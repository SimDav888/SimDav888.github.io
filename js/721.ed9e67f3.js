"use strict";(self["webpackChunkgachivue0_4"]=self["webpackChunkgachivue0_4"]||[]).push([[721],{9257:function(t,e,a){a.r(e),a.d(e,{default:function(){return _t}});var n=a(6252),i=a(3577),l=a(9963);const o=t=>((0,n.dD)("data-v-cd06a348"),t=t(),(0,n.Cn)(),t),s={class:"container-lg"},d={class:"accordion",id:"accordionPanelsStayExample"},c={hidden:""},u={class:"accordion-item question"},r={hidden:""},m={class:"accordion-header",id:"panelsStayOpen-heading"},p={class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapse","aria-expanded":"true","aria-controls":"panelsStayOpen-collapse"},b={id:"panelsStayOpen-collapse",class:"accordion-collapse","aria-labelledby":"panelsStayOpen-heading"},_={key:0,class:"buttongoup"},y=o((()=>(0,n._)("span",null," 질문 수정 ",-1))),k=o((()=>(0,n._)("span",null," 삭제 ",-1))),g={class:"accordion-body"},h=o((()=>(0,n._)("b",null,"질문 작성자 :: ",-1))),f=o((()=>(0,n._)("b",null,"질문 내용 :: ",-1))),w=o((()=>(0,n._)("b",null,"수정 일자 :: ",-1))),q={class:"answerList"},v={class:"modal fade",id:"staticBackdrop1","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},C={class:"modal-dialog"},T={class:"modal-content"},x=o((()=>(0,n._)("div",{class:"modal-header"},[(0,n._)("h5",{class:"modal-title",id:"staticBackdropLabel"},"질문 수정하기"),(0,n._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),P={class:"modal-body container"},z={class:"item modalswitch"},D=o((()=>(0,n._)("label",{for:"nickname"}," 공개여부 :: ",-1))),U=o((()=>(0,n._)("br",null,null,-1))),V={class:"item"},M=o((()=>(0,n._)("label",{for:"nickname"}," Nickname :: ",-1))),W=o((()=>(0,n._)("br",null,null,-1))),j={class:"item"},I=o((()=>(0,n._)("label",{for:"title"}," Title :: ",-1))),S=o((()=>(0,n._)("br",null,null,-1))),A={class:"item"},O=o((()=>(0,n._)("label",{for:"content"}," Content :: ",-1))),Q=o((()=>(0,n._)("br",null,null,-1))),B={class:"modal-footer"},R=o((()=>(0,n._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1))),H=o((()=>(0,n._)("h3",null,"Register Question",-1))),Y={class:"item modalswitch"},L=o((()=>(0,n._)("label",{for:""}," 공개여부 :: ",-1))),N=o((()=>(0,n._)("br",null,null,-1))),Z={class:"item"},E=o((()=>(0,n._)("label",{for:""}," Nickname :: ",-1))),K=o((()=>(0,n._)("br",null,null,-1))),J={class:"item"},$=o((()=>(0,n._)("label",{for:"title"}," Title :: ",-1))),F=o((()=>(0,n._)("br",null,null,-1))),G={class:"item"},X=o((()=>(0,n._)("label",{for:"content"}," Content :: ",-1))),tt=o((()=>(0,n._)("br",null,null,-1)));function et(t,e,a,o,et,at){const nt=(0,n.up)("el-button"),it=(0,n.up)("el-button-group"),lt=(0,n.up)("Answer"),ot=(0,n.up)("el-switch"),st=(0,n.up)("modal");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",d,[(0,n._)("h2",c,(0,i.zw)(o.state.qid=t.$route.params.id),1),(0,n._)("div",u,[(0,n._)("div",r," CircleId that I Joined :: "+(0,i.zw)(o.state.circleid),1),(0,n._)("h2",m,[(0,n._)("button",p,(0,i.zw)(o.state.title),1)]),(0,n._)("div",b,[o.state.uid==o.state.registCheckuid?((0,n.wg)(),(0,n.iD)("div",_,[(0,n.Wm)(it,{class:"ml-4"},{default:(0,n.w5)((()=>[(0,n.Wm)(nt,{class:"titlebtn",type:"primary",plain:"","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop1",onClick:e[0]||(e[0]=t=>o.sendId(o.state.qid,o.state.nickname,o.state.title,o.state.content))},{default:(0,n.w5)((()=>[y])),_:1}),(0,n.Wm)(nt,{class:"titlebtn",type:"primary",plain:"",onClick:o.deleteModal},{default:(0,n.w5)((()=>[k])),_:1},8,["onClick"])])),_:1})])):(0,n.kq)("",!0),(0,n._)("div",g,[(0,n._)("p",null,[h,(0,n.Uk)(" "+(0,i.zw)(o.state.nickname),1)]),(0,n._)("p",null,[f,(0,n.Uk)((0,i.zw)(o.state.content),1)]),(0,n._)("p",null,[w,(0,n.Uk)((0,i.zw)(o.formatDate(o.state.modDate)),1)])]),(0,n._)("div",q,[(0,n.Wm)(lt,{questionid:o.state.qid,qnickname:o.state.nickname,quid:o.state.uid},null,8,["questionid","qnickname","quid"])])])])]),(0,n._)("div",v,[(0,n._)("div",C,[(0,n._)("div",T,[x,(0,n._)("div",P,[(0,n._)("div",z,[D,U,(0,n.Wm)(ot,{modelValue:o.questionPublic,"onUpdate:modelValue":e[1]||(e[1]=t=>o.questionPublic=t),size:"large","active-text":"Public"},null,8,["modelValue"])]),(0,n._)("div",V,[M,W,(0,n.wy)((0,n._)("input",{type:"text",id:"nickname","onUpdate:modelValue":e[2]||(e[2]=t=>o.modal.nickname=t),disabled:""},null,512),[[l.nr,o.modal.nickname]])]),(0,n._)("div",j,[I,S,(0,n.wy)((0,n._)("input",{type:"text",id:"title","onUpdate:modelValue":e[3]||(e[3]=t=>o.modal.title=t)},null,512),[[l.nr,o.modal.title]])]),(0,n._)("div",A,[O,Q,(0,n.wy)((0,n._)("textarea",{type:"text",id:"content","onUpdate:modelValue":e[4]||(e[4]=t=>o.modal.content=t)},null,512),[[l.nr,o.modal.content]])])]),(0,n._)("div",B,[R,(0,n._)("button",{type:"button",class:"btn btn-primary",onClick:e[5]||(e[5]=t=>o.modifyQuestion()),"data-bs-dismiss":"modal"},"Modify")])])])]),((0,n.wg)(),(0,n.j4)(n.lR,{to:"body"},[(0,n.Wm)(st,{show:o.state.showModal,onClose:e[12]||(e[12]=t=>o.state.showModal=!1)},{header:(0,n.w5)((()=>[H])),body:(0,n.w5)((()=>[(0,n._)("div",Y,[L,N,(0,n.Wm)(ot,{size:"large","active-text":"Public",modelValue:o.questionPublic,"onUpdate:modelValue":e[6]||(e[6]=t=>o.questionPublic=t)},null,8,["modelValue"])]),(0,n._)("div",Z,[E,K,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=t=>o.state.nickname=t),disabled:""},null,512),[[l.nr,o.state.nickname]])]),(0,n._)("div",J,[$,F,(0,n.wy)((0,n._)("input",{type:"text",id:"title","onUpdate:modelValue":e[8]||(e[8]=t=>o.regist.registTitle=t),style:{width:"400px"}},null,512),[[l.nr,o.regist.registTitle]])]),(0,n._)("div",G,[X,tt,(0,n.wy)((0,n._)("textarea",{type:"text",id:"content","onUpdate:modelValue":e[9]||(e[9]=t=>o.regist.registContent=t)},null,512),[[l.nr,o.regist.registContent]])])])),footer:(0,n.w5)((()=>[(0,n.Wm)(nt,{type:"secondary",plain:"",onClick:e[10]||(e[10]=t=>o.state.showModal=!1)},{default:(0,n.w5)((()=>[(0,n.Uk)(" Close ")])),_:1}),(0,n.Wm)(nt,{type:"primary",plain:"",onClick:e[11]||(e[11]=t=>o.questionRegister())},{default:(0,n.w5)((()=>[(0,n.Uk)("Register")])),_:1})])),_:1},8,["show"])]))])}var at=a(9737),nt=a(1348),it=a(2262),lt=a(2201),ot=a(696),st=a(9669),dt=a.n(st),ct=a(7484),ut=a.n(ct),rt=a(5158),mt={name:"TheQuestion",components:{Answer:rt.Z,Modal:ot.Z},setup(){(0,n.bv)((()=>{d(),c()}));const t=(0,it.iH)(!0),e=(0,lt.tv)(),a=(0,it.qj)({registCheckuid:"",qid:"",uid:"",circleid:"",nickname:"",title:"",content:"",questionPublic:"",modDate:"",email:sessionStorage.getItem("email"),token:sessionStorage.getItem("TOKEN")}),i=t=>{const e=ut()(t);return e.format("YYYY-MM-D HH:mm")},l=(0,it.qj)({questionid:"",nickname:"",title:"",content:""}),o=(t,e,a,n)=>{l.questionid=t,l.nickname=e,l.title=a,l.content=n},s=()=>{at.T.confirm("Do you really want to delete your Question?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{(0,nt.z8)({type:"success",message:"Delete completed"}),u()})).catch((()=>{(0,nt.z8)({type:"info",message:"Delete canceled"})}))},d=async()=>{const t="http://43.201.60.125/api/questionread",e={"Content-Type":"application/json",Authorization:a.token,token:a.token},n={questionid:a.qid};await dt().post(t,n,{headers:e}).then((function(t){200===t.status?(a.circleid=t.data.dto.circleid,a.nickname=t.data.dto.nickname,a.title=t.data.dto.title,a.content=t.data.dto.content,a.questionPublic=t.data.dto.questionPublic,a.modDate=t.data.dto.modDate,a.uid=t.data.dto.uid):alert("bad.")}))},c=async()=>{const t="http://43.201.60.125/api/questionregiuid",e={"Content-Type":"application/json",Authorization:a.token,token:a.token,name:"test list"},n={email:a.email};await dt().post(t,n,{headers:e}).then((function(t){200==t.status?a.registCheckuid=t.data:alert("bad.")}))},u=async()=>{const t="http://43.201.60.125/api/deleteQuestion",n={"Content-Type":"application/json",Authorization:a.token,token:a.token},i={questionid:a.qid};await dt().post(t,i,{headers:n}).then((function(t){200===t.status&&e.go(0)}))},r=async()=>{if(""===a.title)return alert("Please input title"),title.value.focus(),!1;if(""===a.content)return alert("Please input content"),content.value.focus(),!1;const e="http://43.201.60.125/api/questionModify",n={"Content-Type":"application/json",Authorization:a.token,token:a.token},i={questionid:l.questionid,nickname:l.nickname,title:l.title,content:l.content,questionPublic:t.value,modDate:a.modDate},o=await dt().post(e,i,{headers:n});200===o.status?(alert("modify successfully"),setTimeout(d(),1e3)):alert("fail")},m=(0,it.qj)({registContent:"",registTitle:""}),p=async()=>{if(""===m.registContent)return alert("Please Input your content"),email.value.focus(),!1;const e="http://43.201.60.125/api/questionRegister",n={"Content-Type":"application/json",Authorization:a.token,token:a.token},i={questionid:a.qid,uid:a.uid,circleid:a.circleid,title:m.registTitle,content:m.registContent,questionPublic:t.value},l=await dt().post(e,i,{headers:n});200===l.status?(alert("register successfully"),a.showModal=!1,setTimeout(d(),1e3)):alert("fail")};return{questionPublic:t,sendId:o,modal:l,formatDate:i,registerUid:c,deleteModal:s,modifyQuestion:r,state:a,loginHandler:d,deleteQuestion:u,regist:m,questionRegister:p}}},pt=a(3744);const bt=(0,pt.Z)(mt,[["render",et],["__scopeId","data-v-cd06a348"]]);var _t=bt}}]);
//# sourceMappingURL=721.ed9e67f3.js.map