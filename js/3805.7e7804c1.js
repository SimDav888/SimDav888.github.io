"use strict";(self["webpackChunkgachivue0_4"]=self["webpackChunkgachivue0_4"]||[]).push([[3805],{3805:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var o=n(6252),a=n(3577);const s=e=>((0,o.dD)("data-v-dfcaca68"),e=e(),(0,o.Cn)(),e),l={class:"listcomment"},c={class:"table"},i=s((()=>(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",{scope:"col"},"댓글 내용"),(0,o._)("th",{scope:"col"},"공개 여부")])],-1))),d=["onClick"];function m(e,t,n,s,m,u){const r=(0,o.up)("RouterLink");return(0,o.wg)(),(0,o.iD)("div",l,[(0,o._)("table",c,[i,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.state.lists,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,[(0,o.Wm)(r,{to:{name:"answerread",params:{id:e.answerid}},style:{color:"rgba(6, 90, 92, 0.9)","text-decoration":"none","font-weight":"bold"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(e.content),1)])),_:2},1032,["to"])]),(0,o._)("td",null,[(0,o._)("button",{class:"btn secondary btn-sm",onClick:t=>(s.sendId(e.commentid),s.deleteModal())},"x",8,d)])])))),128))])])])}var u=n(2262),r=n(9669),p=n.n(r),g=n(2201),h={name:"TheQuestion",setup(){(0,o.bv)((()=>{s()}));const e=(0,u.iH)(!1),t=((0,g.tv)(),(0,u.qj)({questionid:"",cid:"",lists:"",email:sessionStorage.getItem("email"),token:sessionStorage.getItem("TOKEN")})),n=e=>{a.cid=e},a=(0,u.qj)({cid:""}),s=async()=>{const e="http://43.201.60.125/api/commentlistbyemail",n={"Content-Type":"application/json",Authorization:t.token,token:t.token,name:"test list"},o={email:t.email};await p().post(e,o,{headers:n}).then((function(e){200==e.status?t.lists=e.data:alert("bad.")}))},l=()=>{ElMessageBox.confirm("Do you really want to delete your comment?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{ElMessage({type:"success",message:"Delete completed"}),c()})).catch((()=>{ElMessage({type:"info",message:"Delete canceled"})}))},c=async()=>{const e="http://43.201.60.125/api/deleteComment",n={"Content-Type":"application/json",Authorization:t.token,token:t.token},o={commentid:a.cid};console.log("delete comment... launch  "+a.cid),await p().post(e,o,{headers:n}).then((function(e){console.log("delete comment after axios"),200===e.status&&(console.log(`comment${a.cid} is deleted`),setTimeout(s(),1e3))}))};return{value:e,state:t,loginHandler:s,deleteModal:l,deleteComment:c,sendId:n,modal:a}}},f=n(3744);const k=(0,f.Z)(h,[["render",m],["__scopeId","data-v-dfcaca68"]]);var y=k}}]);
//# sourceMappingURL=3805.7e7804c1.js.map