"use strict";(self["webpackChunkgachivue0_4"]=self["webpackChunkgachivue0_4"]||[]).push([[485],{9989:function(t,e,a){a.r(e),a.d(e,{default:function(){return bt}});var l=a(6252),n=a(3577),i=a(9963);const s=t=>((0,l.dD)("data-v-4001acbf"),t=t(),(0,l.Cn)(),t),o={key:0},d=s((()=>(0,l._)("div",{class:"alert alert-success",role:"alert"}," 등록한 질문이 없습니다. ",-1))),c=[d],u={class:"accordion",id:"accordionPanelsStayExample"},r={hidden:""},p=s((()=>(0,l._)("div",null,null,-1))),m=["id"],b=["data-bs-target","aria-controls"],_={class:"titlecontent"},y=["id","aria-labelledby"],h={hidden:""},k={hidden:""},g={class:"buttongoup"},w=s((()=>(0,l._)("span",null," 질문 수정 ",-1))),f=s((()=>(0,l._)("span",null," 삭제 ",-1))),v={class:"accordion-body"},q={hidden:""},C=s((()=>(0,l._)("b",null,"작성자 :: ",-1))),x=s((()=>(0,l._)("b",null,"질문 내용 :: ",-1))),z=s((()=>(0,l._)("b",null,"수정 일자 :: ",-1))),T={class:"answerList"},D={class:"modal fade",id:"staticBackdrop1","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},U={class:"modal-dialog"},S={class:"modal-content"},I=s((()=>(0,l._)("div",{class:"modal-header"},[(0,l._)("h5",{class:"modal-title",id:"staticBackdropLabel"},"질문 수정하기"),(0,l._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),M={class:"modal-body container"},P={class:"item"},V=s((()=>(0,l._)("label",{for:"title"}," 질문 제목 :: ",-1))),j=s((()=>(0,l._)("br",null,null,-1))),O={class:"item"},W=s((()=>(0,l._)("label",{for:"content"}," 질문 내용 :: ",-1))),H=s((()=>(0,l._)("br",null,null,-1))),A={class:"modal-footer"},B=s((()=>(0,l._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"닫기",-1))),Q=s((()=>(0,l._)("h3",null,"Register Question",-1))),Y={class:"item modalswitch"},E=s((()=>(0,l._)("label",{for:""}," 공개여부 :: ",-1))),K=s((()=>(0,l._)("br",null,null,-1))),R={class:"item"},L=s((()=>(0,l._)("label",{for:""}," 닉네임 :: ",-1))),N=s((()=>(0,l._)("br",null,null,-1))),Z={class:"item"},J=s((()=>(0,l._)("label",{for:"title"}," 질문 제목 :: ",-1))),F=s((()=>(0,l._)("br",null,null,-1))),G={class:"item"},X=s((()=>(0,l._)("label",{for:"content"}," 질문 내용 :: ",-1))),$=s((()=>(0,l._)("br",null,null,-1)));function tt(t,e,a,s,d,tt){const et=(0,l.up)("el-button"),at=(0,l.up)("el-button-group"),lt=(0,l.up)("Answer"),nt=(0,l.up)("el-switch"),it=(0,l.up)("modal");return(0,l.wg)(),(0,l.iD)(l.HY,null,[0==s.state.lists.length?((0,l.wg)(),(0,l.iD)("div",o,c)):(0,l.kq)("",!0),(0,l._)("div",u,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.state.lists,((t,e)=>((0,l.wg)(),(0,l.iD)("div",{class:"accordion-item question",key:e},[(0,l._)("div",r," CircleId that I Joined :: "+(0,n.zw)(t.circleid),1),p,(0,l._)("h2",{class:"accordion-header",id:"panelsStayOpen-heading"+e},[(0,l._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapse"+e,"aria-expanded":"true","aria-controls":"panelsStayOpen-collapse"+e},[(0,l._)("div",_,(0,n.zw)(e+1)+" "+(0,n.zw)(t.title),1)],8,b)],8,m),(0,l._)("div",{id:"panelsStayOpen-collapse"+e,class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-heading"+e},[(0,l._)("h1",h,(0,n.zw)(s.state.nickname=t.nickname),1),(0,l._)("h1",k,(0,n.zw)(s.state.circleid=t.circleid),1),(0,l._)("div",g,[(0,l.Wm)(at,{class:"ml-4"},{default:(0,l.w5)((()=>[(0,l.Wm)(et,{class:"titlebtn","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop1",onClick:e=>s.sendId(t.questionid,t.nickname,t.title,t.content)},{default:(0,l.w5)((()=>[w])),_:2},1032,["onClick"]),(0,l.Wm)(et,{class:"titlebtn",onClick:s.deleteModal},{default:(0,l.w5)((()=>[f])),_:1},8,["onClick"])])),_:2},1024)]),(0,l._)("div",v,[(0,l._)("p",q,(0,n.zw)(s.state.qid=t.questionid),1),(0,l._)("p",null,[C,(0,l.Uk)(" "+(0,n.zw)(t.nickname),1)]),(0,l._)("p",null,[x,(0,l.Uk)((0,n.zw)(t.content),1)]),(0,l._)("p",null,[z,(0,l.Uk)((0,n.zw)(s.formatDate(t.modDate)),1)])]),(0,l._)("div",T,[(0,l.Wm)(lt,{questionid:t.questionid,qnickname:t.nickname,quid:t.uid},null,8,["questionid","qnickname","quid"])])],8,y)])))),128))]),(0,l._)("div",D,[(0,l._)("div",U,[(0,l._)("div",S,[I,(0,l._)("div",M,[(0,l._)("div",P,[V,j,(0,l.wy)((0,l._)("input",{type:"text",id:"title","onUpdate:modelValue":e[0]||(e[0]=t=>s.modal.title=t),style:{width:"400px"}},null,512),[[i.nr,s.modal.title]])]),(0,l._)("div",O,[W,H,(0,l.wy)((0,l._)("textarea",{type:"text",id:"content","onUpdate:modelValue":e[1]||(e[1]=t=>s.modal.content=t)},null,512),[[i.nr,s.modal.content]])])]),(0,l._)("div",A,[B,(0,l._)("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=t=>s.modifyQuestion()),"data-bs-dismiss":"modal"},"수정하기")])])])]),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[(0,l.Wm)(it,{show:s.state.showModal,onClose:e[10]||(e[10]=t=>s.state.showModal=!1)},{header:(0,l.w5)((()=>[Q])),body:(0,l.w5)((()=>[(0,l._)("div",Y,[E,K,(0,l.Wm)(nt,{size:"large","active-text":"Public",modelValue:s.questionPublic,"onUpdate:modelValue":e[3]||(e[3]=t=>s.questionPublic=t)},null,8,["modelValue"])]),(0,l._)("div",R,[L,N,(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=t=>s.state.nickname=t),disabled:""},null,512),[[i.nr,s.state.nickname]]),(0,l.wy)((0,l._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=t=>s.state.circleid=t),disabled:""},null,512),[[i.nr,s.state.circleid]])]),(0,l._)("div",Z,[J,F,(0,l.wy)((0,l._)("input",{type:"text",id:"title","onUpdate:modelValue":e[6]||(e[6]=t=>s.regist.registTitle=t),style:{width:"400px"}},null,512),[[i.nr,s.regist.registTitle]])]),(0,l._)("div",G,[X,$,(0,l.wy)((0,l._)("textarea",{type:"text",id:"content","onUpdate:modelValue":e[7]||(e[7]=t=>s.regist.registContent=t)},null,512),[[i.nr,s.regist.registContent]])])])),footer:(0,l.w5)((()=>[(0,l.Wm)(et,{type:"secondary",plain:"",onClick:e[8]||(e[8]=t=>s.state.showModal=!1)},{default:(0,l.w5)((()=>[(0,l.Uk)(" Close ")])),_:1}),(0,l.Wm)(et,{type:"primary",plain:"",onClick:e[9]||(e[9]=e=>t.questionRegister())},{default:(0,l.w5)((()=>[(0,l.Uk)("Register")])),_:1})])),_:1},8,["show"])]))],64)}var et=a(9737),at=a(1348),lt=a(2262),nt=a(2201),it=a(696),st=a(9669),ot=a.n(st),dt=a(7484),ct=a.n(dt),ut=a(6417),rt={name:"TheQuestion",components:{Answer:ut.Z,Modal:it.Z},setup(){const t=(0,lt.iH)("title"),e=(0,lt.iH)(""),a=async()=>{const a="http://localhost:9090/api/searchquestionbyemail",l={"Content-Type":"application/json",Authorization:sessionStorage.getItem("TOKEN"),token:sessionStorage.getItem("TOKEN")},n={email:i.email,myoption:t.value,string2search:e.value};await ot().post(a,n,{headers:l}).then((function(t){i.lists=t.data})).catch((t=>{console.log("the error :"+t)}))};(0,l.bv)((()=>{u()}));const n=(0,lt.iH)(!0),i=((0,nt.tv)(),(0,lt.qj)({qid:"",uid:"",circleid:"",nickname:"",questionPublic:"",lists:"",modiDate:"",email:sessionStorage.getItem("email"),token:sessionStorage.getItem("TOKEN")})),s=t=>{const e=ct()(t);return e.format("YYYY-MM-D HH:mm")},o=(0,lt.qj)({questionid:"",nickname:"",title:"",content:""}),d=(t,e,a,l)=>{o.questionid=t,o.nickname=e,o.title=a,o.content=l},c=()=>{et.T.confirm("질문을 삭제하시겠습니까?","알람",{confirmButtonText:"예",cancelButtonText:"취소",type:"warning"}).then((()=>{(0,at.z8)({type:"success",message:"Delete completed"}),r()})).catch((()=>{(0,at.z8)({type:"info",message:"Delete canceled"})}))},u=async()=>{const t="http://localhost:9090/api/questionlistbyemail",e={"Content-Type":"application/json",Authorization:i.token,token:i.token,name:"test list"},a={email:i.email};await ot().post(t,a,{headers:e}).then((function(t){200==t.status?i.lists=t.data:alert("bad.")}))},r=async()=>{const t="http://localhost:9090/api/deleteQuestion",e={"Content-Type":"application/json",Authorization:i.token,token:i.token},a={questionid:i.qid};await ot().post(t,a,{headers:e}).then((function(t){200===t.status&&setTimeout(u(),1e3)}))},p=async()=>{if(""===i.title)return alert("Please input title"),title.value.focus(),!1;if(""===i.content)return alert("Please input content"),content.value.focus(),!1;const t="http://localhost:9090/api/questionModify",e={"Content-Type":"application/json",Authorization:i.token,token:i.token},a={questionid:o.questionid,nickname:o.nickname,title:o.title,content:o.content,questionPublic:n.value,modDate:i.modDate},l=await ot().post(t,a,{headers:e});200===l.status?(alert("modify successfully"),setTimeout(u(),1e3)):alert("fail")},m=(0,lt.qj)({registContent:"",registTitle:""});return{myoption:t,string2search:e,launchSearch:a,questionPublic:n,sendId:d,modal:o,formatDate:s,deleteModal:c,modifyQuestion:p,state:i,questionlistbyemail:u,deleteQuestion:r,regist:m}}},pt=a(3744);const mt=(0,pt.Z)(rt,[["render",tt],["__scopeId","data-v-4001acbf"]]);var bt=mt}}]);
//# sourceMappingURL=485.e4f424c6.js.map