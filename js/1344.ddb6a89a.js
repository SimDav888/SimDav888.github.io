"use strict";(self["webpackChunkgachivue0_4"]=self["webpackChunkgachivue0_4"]||[]).push([[1344],{1344:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var o=n(6252),s=n(3577);const i=e=>((0,o.dD)("data-v-00d3e1e0"),e=e(),(0,o.Cn)(),e),l={class:"thingsThatShouldBeHiddenpqbe"},a={class:"tablequestion"},c={class:"table"},u=i((()=>(0,o._)("thead",{class:"thingsThatShouldBeHiddenpqbe"},[(0,o._)("tr",null,[(0,o._)("th",{scope:"col",class:"col-4"},"제목"),(0,o._)("th",{scope:"col",class:"col-1"},"공개 여부"),(0,o._)("th",{scope:"col",class:"col-1"})])],-1))),d={class:"form-check form-switch form-check-inline"},h=["onChange"],r=["onChange"];function p(e,t,n,i,p,g){const q=(0,o.up)("RouterLink");return(0,o.wg)(),(0,o.iD)("main",l,[(0,o._)("div",a,[(0,o._)("table",c,[u,(0,o._)("tbody",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.state.lists,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[(0,o._)("td",null,[(0,o.Wm)(q,{to:{name:"questionread",params:{id:e.questionid}},style:{color:"rgba(6, 90, 92, 0.9)","text-decoration":"none","font-weight":"bold"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(e.title),1)])),_:2},1032,["to"])]),(0,o._)("td",null,[(0,o._)("div",d,[e.questionPublic?((0,o.wg)(),(0,o.iD)("input",{key:1,class:"form-check-input text-center",type:"checkbox",role:"switch",checked:"",onChange:t=>i.sendValues(e.questionid,e.questionPublic,e.title,e.content)},null,40,r)):((0,o.wg)(),(0,o.iD)("input",{key:0,class:"form-check-input text-end",type:"checkbox",role:"switch",onChange:t=>i.sendValues(e.questionid,e.questionPublic,e.title,e.content)},null,40,h))])])])))),128))])])])])}var g=n(2201),q=n(2262),k=n(9669),b=n.n(k),m={name:"TheQuestion",setup(){(0,o.bv)((()=>{l()}));(0,g.tv)();const e=(0,q.iH)(!0),t=(0,q.iH)(!1),n=(0,q.qj)({lists:"",email:sessionStorage.getItem("email"),token:sessionStorage.getItem("TOKEN")}),s=(0,q.qj)({questionid:"",questionPublic:"",title:"",content:""}),i=(e,t,n,o)=>{s.questionid=e,s.questionPublic=t,s.title=n,s.content=o,a()},l=async()=>{const e="http://localhost:9090/api/questionlistbyemail",t={"Content-Type":"application/json",Authorization:n.token,token:n.token,name:"test list"},o={email:n.email};await b().post(e,o,{headers:t}).then((function(e){200==e.status?n.lists=e.data:alert("bad.")}))},a=async()=>{const e="http://localhost:9090/api/switchquestionpulic",t={"Content-Type":"application/json",Authorization:n.token,token:n.token},o={questionid:s.questionid,title:s.title,content:s.content,questionPublic:!s.questionPublic},i=await b().post(e,o,{headers:t});200===i.status||alert("fail")},c=()=>{ElMessageBox.confirm("Do you really want to delete your Question?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{ElMessage({type:"success",message:"Delete completed"}),u()})).catch((()=>{ElMessage({type:"info",message:"Delete canceled"})}))},u=async()=>{const e="http://localhost:9090/api/deleteQuestion",t={"Content-Type":"application/json",Authorization:n.token,token:n.token},o={questionid:s.questionid};await b().post(e,o,{headers:t}).then((function(e){200===e.status&&console.log(`question${s.questionid} is deleted`)}))};return{questionPublic:e,value:t,state:n,sendValues:i,values:s,deleteModal:c,loginHandler:l,changeSwitchOption:a,deleteQuestion:u,onMounted:o.bv}}},w=n(3744);const y=(0,w.Z)(m,[["render",p],["__scopeId","data-v-00d3e1e0"]]);var f=y}}]);
//# sourceMappingURL=1344.ddb6a89a.js.map