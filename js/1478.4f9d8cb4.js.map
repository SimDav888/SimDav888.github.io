{"version":3,"file":"js/1478.4f9d8cb4.js","mappings":"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","sources":["webpack://gachivue0.4/./src/components/TheForgot.vue","webpack://gachivue0.4/./src/components/TheForgot.vue?a60d"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"screen\">\r\n      <div class=\"screen__content\">\r\n        <form class=\"login\" action=\"\" id=\"frm\" ref=\"frm\">\r\n          <h2 style=\"color: #000000; \">비밀번호 찾기</h2>\r\n          <div class=\"login__field\">\r\n            <input type=\"email\" class=\"login__input \" ref=\"email\" v-model=\"state.email\" placeholder=\"이메일을 입력해주세요\"\r\n              @keyup=\"getQuestionByEmail\" autofocus>\r\n            <label> {{ state.emailCheck }}</label>\r\n          </div>\r\n          <div class=\"login__field\">\r\n            <input type=\"text\" class=\"login__input\" v-model=\"state.secretQ\" ref=\"secretQ\" disabled>\r\n          </div>\r\n          <div class=\"login__field\">\r\n            <input type=\"text\" class=\"login__input\" v-model=\"state.secretA\" ref=\"secretA\" placeholder=\"답변을 입력해주세요\"\r\n              autofocus>\r\n          </div>\r\n          <div class=\"login__field newPass\">\r\n            <input type=\"text\" class=\"login__input\" v-model=\"state.newPass\" ref=\"newPass\" style=\"display: none;\"\r\n              placeholder=\"새로운 비밀번호\" autofocus>\r\n          </div>\r\n          <div class=\"login__field newRePass\">\r\n            <input type=\"text\" class=\"login__input\" v-model=\"state.newRePass\" ref=\"newRePass\" placeholder=\"새로운 비밀번호 확인\"\r\n              autofocus style=\"display:none;\">\r\n          </div>\r\n          <button class=\"button login__submit\" @click.prevent=\"checkSecretAnswer\" ref=\"btnsub1\">\r\n            <span class=\"button__text\">계정 확인하기</span>\r\n          </button>\r\n          <button class=\"button login__submit\" @click.prevent=\"changePass\" ref=\"btnsub2\" style=\"display: none;\">\r\n            <span class=\"button__text\">비밀번호 변경하기</span>\r\n          </button>\r\n\r\n          <div>\r\n            <h6 style=\"margin-top:1em\">\r\n              <RouterLink to=\"/\" style=\"text-decoration:none; color:#00ffae;\">메인으로 돌아가기</RouterLink>\r\n            </h6>\r\n            <h6>\r\n              <RouterLink to=\"/login\" style=\"text-decoration:none; color:#00ffae;\">로그인으로 돌아가기</RouterLink>\r\n            </h6>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class=\"screen__background\">\r\n        <span class=\"screen__background__shape screen__background__shape4\"></span>\r\n        <span class=\"screen__background__shape screen__background__shape3\"></span>\r\n        <span class=\"screen__background__shape screen__background__shape2\"></span>\r\n        <span class=\"screen__background__shape screen__background__shape1\"></span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <h1 style=\"display:none;\" ref=\"toShow\">TOSHOW</h1>\r\n</template>\r\n\r\n<script charset='utf-8'>\r\nimport { reactive, ref } from 'vue';\r\nimport axios from 'axios';\r\nimport { useRouter } from 'vue-router'\r\nimport router from '../router';\r\nexport default {\r\n  setup() {\r\n    const router = useRouter();\r\n    const state = reactive({\r\n      secretQ: '',\r\n      secretA: '',\r\n      newPass: '',\r\n      newRePass: '',\r\n      mail: '',\r\n    })\r\n    const newPass = ref('')\r\n    const newRePass = ref('')\r\n    const secretA = ref('')\r\n    const secretQ = ref('')\r\n    const toShow = ref('')\r\n    const btnsub1 = ref('')\r\n    const btnsub2 = ref('')\r\n    const pattern = /^\\s+$/;\r\n\r\n    const getQuestionByEmail = async () => {\r\n      const url = 'http://43.201.60.125/signup/getQuestionByEmail'\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: state.token,\r\n        \"token\": state.token\r\n      }\r\n      const body = { email: state.email }\r\n      await axios.post(url, body, { headers })\r\n        .then(function (response) {\r\n          state.secretQ = response.data.result\r\n        }).catch(function (error) {\r\n          //TODO: If any error send the same message.\r\n          //could be more precise... (like 500?)\r\n          if (error) {\r\n            console.log('Error', error.message);\r\n          }\r\n        })\r\n    }\r\n    const checkSecretAnswer = async () => {\r\n      if (state.secretA === '') {\r\n        alert(\"Input your secret answer\"); secretA.value.focus(); return false;\r\n      }\r\n      const url = 'http://43.201.60.125/signup/checkSecretAnswer'\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: state.token,\r\n        \"token\": state.token\r\n      }\r\n      const body = { secretA: state.secretA, email: state.email }\r\n      await axios.post(url, body, { headers }).then(function (response) {\r\n        console.log(\"response.data.result : \" + response.data.result)\r\n        console.log(\"state.secretA : \" + state.secretA)\r\n        if (state.secretA == response.data.result) {\r\n          console.log(\"answer checked true\")\r\n\r\n          //hide what s done reveal what s next...\r\n          newRePass.value.style.display = 'block';\r\n          newPass.value.style.display = 'block';\r\n          btnsub1.value.style.display = 'none';\r\n          secretQ.value.style.display = 'none';\r\n          secretA.value.style.display = 'none';\r\n          btnsub2.value.style.display = 'block';\r\n\r\n        }\r\n      }).catch(function (error) {\r\n        //TODO: If any error send the same message.\r\n        //could be more precise... (like 500?)\r\n        if (error) {\r\n          console.log('Error', error.message);\r\n        }\r\n      })\r\n    }\r\n\r\n    //TODO:send the pass to controler\r\n    const changePass = async () => {\r\n      //validation\r\n      if (state.newPass === '') {\r\n        alert(\"비밀번호를 입력하세요\"); newPass.value.focus(); return false;\r\n      } else if (state.newRePass === '') {\r\n        alert(\"새로운 비밀번호를 입력하세요\"); newRePass.value.focus(); return false;\r\n      } else if (state.newPass != state.newRePass) {\r\n        alert(\"비밀번호의 양식이 틀렸습니다 (/^\\s+$/ 는 포함될 수 없습니다)\");\r\n        newPass.value.value = ''; newRePass.value.value = '';\r\n        newPass.value.focus(); return false;\r\n      } else if (pattern.test(state.newPass)) {\r\n        alert('space is not allowed');\r\n        newPass.value.value = '';\r\n        newPass.value.focus();\r\n        return false;\r\n      }\r\n      const url = 'http://43.201.60.125/signup/changePass'\r\n      const headers = {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: state.token,\r\n        \"token\": state.token\r\n        //TODO BONUS:do not have token and shouldn t send one\r\n        //TODO BONUS:change controller and vue token connection\r\n\r\n      }\r\n      const body = { newPass: state.newPass, email: state.email }\r\n      await axios.post(url, body, { headers }).then(function (res) {\r\n\r\n        // console.log(\"response.data.result : \"+res.data.result)\r\n        // console.log(\"state.secretA : \"+res.secretA)\r\n        // if (state.secretA == res.data.result) {\r\n        alert(\"password Changed successfuly\")\r\n        router.push({ name: \"login\" });\r\n        // }\r\n      }).catch(function (error) {\r\n        //TODO: If any error send the same message.\r\n        //could be more precise... (like 500?)\r\n        if (error) {\r\n          console.log('Error', error.message);\r\n        }\r\n      })\r\n    }\r\n    return { toShow, state, btnsub2, btnsub1, secretA, newRePass, newPass, secretQ, getQuestionByEmail, checkSecretAnswer, changePass }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n* {\r\n  box-sizing: border-box;\r\n  margin: 0, auto;\r\n  padding: 0;\r\n  font-family: Raleway, sans-serif;\r\n}\r\n\r\nbody {\r\n  background: linear-gradient(90deg, #C7C5F4, #776BCC);\r\n}\r\n\r\n.container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 100vh;\r\n}\r\n\r\n.screen {\r\n  background: linear-gradient(90deg, #5D54A4, #7C78B8);\r\n  position: relative;\r\n  height: 650px;\r\n  width: 360px;\r\n  box-shadow: 0px 0px 24px #5C5696;\r\n}\r\n\r\n.screen__content {\r\n  z-index: 1;\r\n  position: relative;\r\n  height: 100%;\r\n}\r\n\r\n.screen__background {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  z-index: 0;\r\n  -webkit-clip-path: inset(0 0 0 0);\r\n  clip-path: inset(0 0 0 0);\r\n}\r\n\r\n.screen__background__shape {\r\n  transform: rotate(45deg);\r\n  position: absolute;\r\n}\r\n\r\n.screen__background__shape1 {\r\n  height: 520px;\r\n  width: 520px;\r\n  background: #FFF;\r\n  top: -50px;\r\n  right: 120px;\r\n  border-radius: 0 72px 0 0;\r\n}\r\n\r\n.screen__background__shape2 {\r\n  height: 220px;\r\n  width: 220px;\r\n  background: #6C63AC;\r\n  top: -172px;\r\n  right: 0;\r\n  border-radius: 32px;\r\n}\r\n\r\n.screen__background__shape3 {\r\n  height: 540px;\r\n  width: 190px;\r\n  background: linear-gradient(270deg, #5D54A4, #6A679E);\r\n  top: -24px;\r\n  right: 0;\r\n  border-radius: 32px;\r\n}\r\n\r\n.screen__background__shape4 {\r\n  height: 400px;\r\n  width: 200px;\r\n  background: #7e7bb8;\r\n  top: 420px;\r\n  right: 50px;\r\n  border-radius: 60px;\r\n}\r\n\r\n.login {\r\n  width: 320px;\r\n  padding: 30px;\r\n  padding-top: 80px;\r\n}\r\n\r\n.login__field {\r\n  padding: 20px 0px;\r\n  position: relative;\r\n}\r\n\r\n.login__input {\r\n  border: none;\r\n  border-bottom: 2px solid #D1D1D4;\r\n  background: none;\r\n  padding: 10px;\r\n  padding-left: 24px;\r\n  font-weight: 700;\r\n  width: 85%;\r\n  transition: .2s;\r\n}\r\n\r\n.login__input:active,\r\n.login__input:focus,\r\n.login__input:hover {\r\n  outline: none;\r\n  border-bottom-color: #6A679E;\r\n}\r\n\r\n.login__submit {\r\n  background: #fff;\r\n  font-size: 14px;\r\n  margin-top: 30px;\r\n  padding: 16px 20px;\r\n  border-radius: 26px;\r\n  border: 1px solid #D4D3E8;\r\n  text-transform: uppercase;\r\n  font-weight: 700;\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  color: #4C489D;\r\n  box-shadow: 0px 2px 2px #5C5696;\r\n  cursor: pointer;\r\n  transition: .2s;\r\n}\r\n\r\n.login__submit:active,\r\n.login__submit:focus,\r\n.login__submit:hover {\r\n  border-color: #6A679E;\r\n  outline: none;\r\n}\r\n</style>","import { render } from \"./TheForgot.vue?vue&type=template&id=b2f95376&scoped=true\"\nimport script from \"./TheForgot.vue?vue&type=script&charset=utf-8&lang=js\"\nexport * from \"./TheForgot.vue?vue&type=script&charset=utf-8&lang=js\"\n\nimport \"./TheForgot.vue?vue&type=style&index=0&id=b2f95376&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\DS Portfolio\\\\DS-Nolaboda-Gachi\\\\gachivue0.4\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b2f95376\"]])\n\nexport default __exports__"],"names":["class","action","id","ref","_createElementVNode","style","_hoisted_11","_hoisted_13","_hoisted_5","type","$setup","email","$event","placeholder","onKeyup","autofocus","_toDisplayString","emailCheck","secretQ","disabled","secretA","newPass","newRePass","onClick","_createVNode","_component_RouterLink","to","_hoisted_16","setup","router","useRouter","state","reactive","mail","toShow","btnsub1","btnsub2","pattern","getQuestionByEmail","async","url","headers","Authorization","token","body","axios","then","response","data","result","catch","error","console","log","message","checkSecretAnswer","alert","value","focus","display","changePass","test","res","push","name","__exports__","render"],"sourceRoot":""}