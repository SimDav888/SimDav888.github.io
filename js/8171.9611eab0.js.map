{"version":3,"file":"js/8171.9611eab0.js","mappings":"0PACOA,MAAM,e,GACFA,MAAM,S,UACZC,EAAAA,EAAAA,GAKQ,eAJPA,EAAAA,EAAAA,GAGK,YAFHA,EAAAA,EAAAA,GAA0B,MAAtBC,MAAM,OAAM,UAChBD,EAAAA,EAAAA,GAA0B,MAAtBC,MAAM,OAAM,aAHnB,K,uFAFHC,EAAAA,EAAAA,IAoBI,MApBJ,EAoBI,EAnBFF,EAAAA,EAAAA,GAkBO,QAlBP,EAkBO,CAjBNG,GAMAH,EAAAA,EAAAA,GAUQ,6BATPE,EAAAA,EAAAA,IAQKE,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IARmBC,EAAAA,MAAMC,OAAK,CAAvBC,EAAMC,M,WAAlBP,EAAAA,EAAAA,IAQK,MARiCQ,IAAYD,GAAlD,EACET,EAAAA,EAAAA,GAKK,YAJHW,EAAAA,EAAAA,IAGaC,EAAA,CAHAC,GAAE,CAAAC,KAAAA,aAAAC,OAAAA,CAAAC,GAAkCR,EAAKS,WACpDC,MAAA,8EADF,C,kBAEE,IAAkB,mBAAfV,EAAKW,SAAO,M,KAFjB,gBAKFnB,EAAAA,EAAAA,GAAwG,YAAnGA,EAAAA,EAAAA,GAA6F,UAArFD,MAAM,uBAAwBqB,QAAK,IAAEd,EAAAA,OAAOE,EAAKa,WAAWf,EAAAA,gBAAe,IAAC,EAAAgB,UAP3F,W,4CAqBN,GACER,KAAM,cAINS,SACEC,EAAAA,EAAAA,KAAU,KACRC,GAAc,IAIhB,MAAMC,GAAQC,EAAAA,EAAAA,KAAI,GAIfC,IAHYC,EAAAA,EAAAA,OAGJC,EAAAA,EAAAA,IAAS,CACnBC,WAAY,GACZC,IAAI,GACJzB,MAAO,GACP0B,MAAOC,eAAeC,QAAQ,SAC9BC,MAAOF,eAAeC,QAAQ,YAG3BE,EAAWhB,IACfiB,EAAMN,IAAMX,CAAZ,EAGKiB,GAAQR,EAAAA,EAAAA,IAAS,CACtBE,IAAI,KAGCP,EAAec,UACrB,MAAMC,EAAK,+CAELC,EAAU,CAEd,eAAiB,mBACjBC,cAAed,EAAMQ,MACrBA,MAAOR,EAAMQ,MACb,KAAQ,aAEFO,EAAO,CAAEV,MAAOL,EAAMK,aACtBW,IAAAA,KAAWJ,EAAKG,EAAM,CAAEF,YAAWI,MAAK,SAAUC,GACvC,KAAZA,EAAIC,OACLnB,EAAMrB,MAAQuC,EAAIE,KAElBC,MAAM,OAET,GAND,EASIC,EAAc,KACnBC,aAAaC,QACX,6CACA,UACA,CACEC,kBAAmB,KACnBC,iBAAkB,SAClBC,KAAM,YAGPV,MAAK,KACJW,UAAU,CACRD,KAAM,UACNE,QAAS,qBAEXC,GAAe,IAEhBC,OAAM,KACLH,UAAU,CACRD,KAAM,OACNE,QAAS,mBAFX,GAjBJ,EAwBMC,EAAgBnB,UACtB,MAAMC,EAAK,0CACLC,EAAU,CACZ,eAAiB,mBACjBC,cAAed,EAAMQ,MACrB,MAASR,EAAMQ,OACTO,EAAM,CAACtB,UAAYiB,EAAMN,WAC7BY,IAAAA,KAAWJ,EAAKG,EAAM,CAACF,YAAUI,MAAK,SAASC,GACjC,MAAfA,EAAIC,QACLa,WAAWnC,IAAe,IAE3B,GAJH,EAOD,MAAM,CAAGC,QAAOE,QAAOH,eAAeyB,cAAaQ,gBAAerB,SAAQC,QAE5E,G,UCpHD,MAAMuB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://gachivue0.4/./src/components/PrivateCommentByEmail.vue","webpack://gachivue0.4/./src/components/PrivateCommentByEmail.vue?3b81"],"sourcesContent":["<template>\r\n  <div class=\"listcomment\" >\r\n    <table class=\"table\">\r\n     <thead>\r\n      <tr>\r\n        <th scope=\"col\">댓글 내용</th>\r\n        <th scope=\"col\">공개 여부</th>\r\n      </tr>\r\n     </thead>\r\n     <tbody>\r\n      <tr v-for=\"(list, i) in state.lists\" :key=\"(list, i)\">\r\n        <td>\r\n          <RouterLink :to=\"{name: 'answerread', params:{id:list.answerid}}\"\r\n            style=\"color:rgba(6, 90, 92, 0.9); text-decoration:none; font-weight:bold;\" >\r\n            {{ list.content }}\r\n          </RouterLink>\r\n        </td>\r\n        <td> <button class=\"btn secondary btn-sm\" @click=\"sendId(list.commentid),deleteModal()\">x</button> </td>\r\n      </tr>\r\n     </tbody>\r\n   </table>\r\n</div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport { onMounted, reactive, ref } from 'vue'\r\nimport axios from 'axios'\r\nimport { useRouter } from 'vue-router';\r\n\r\n\r\nexport default {\r\n  name: \"TheQuestion\",\r\n\r\n\r\n\r\n  setup() {\r\n    onMounted(() => {\r\n      loginHandler();\r\n    })\r\n\r\n\r\n    const value = ref(false)\r\n    const router = useRouter()\r\n\r\n\r\n const state = reactive({\r\n     questionid :'',\r\n     cid:'',\r\n     lists: '',\r\n     email: sessionStorage.getItem('email'),\r\n     token: sessionStorage.getItem('TOKEN'),\r\n   });\r\n\r\n  const sendId = ( commentid) =>{\r\n    modal.cid = commentid\r\n  };\r\n\r\n   const modal = reactive({\r\n    cid:'',\r\n   })\r\n\r\n   const loginHandler = async () => {\r\n   const url= \"http://localhost:9090/api/commentlistbyemail\"\r\n\r\n   const headers = {\r\n     //TODO send the right amound of tokent and receive the same...\r\n     'Content-Type' : 'application/json',\r\n     Authorization: state.token,\r\n     token: state.token,\r\n     'name': 'test list'\r\n   }\r\n     const body = { email: state.email }\r\n     await axios.post(url, body, { headers }).then(function (res) {\r\n       if(res.status==200){\r\n         state.lists = res.data\r\n       } else {\r\n         alert('bad.')\r\n       }\r\n     })\r\n   }\r\n\r\n   const deleteModal = () => {\r\n    ElMessageBox.confirm(\r\n      'Do you really want to delete your comment?',\r\n      'Warning',\r\n      {\r\n        confirmButtonText: 'OK',\r\n        cancelButtonText: 'Cancel',\r\n        type: 'warning',\r\n      }\r\n    )\r\n      .then(() => {\r\n        ElMessage({\r\n          type: 'success',\r\n          message: 'Delete completed',\r\n        })\r\n        deleteComment()\r\n      })\r\n      .catch(() => {\r\n        ElMessage({\r\n          type: 'info',\r\n          message: 'Delete canceled',\r\n        })\r\n      })\r\n    }\r\n\r\n    const deleteComment = async()=>{\r\n    const url ='http://localhost:9090/api/deleteComment'\r\n    const headers = {\r\n        \"Content-Type\" : \"application/json\",\r\n        Authorization: state.token,\r\n        \"token\": state.token }\r\n        const body ={commentid : modal.cid,}\r\n    await axios.post(url, body, {headers}).then(function(res){\r\n      if(res.status === 200){\r\n        setTimeout(loginHandler(),1000);\r\n        }\r\n      })\r\n    }\r\n\r\n   return{  value, state, loginHandler,  deleteModal, deleteComment, sendId, modal }\r\n\r\n }\r\n\r\n};\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.answer_collapse {\r\n  border: solid 1px grey;\r\n  padding: 0 10px;\r\n  margin: 10px 0;\r\n}\r\n\r\n.answer {\r\n  display: flex;\r\n}\r\n\r\n\r\n.counter{\r\n   display:  flex;\r\n   align-items: center;\r\n   height: 80px;\r\n   margin-right: 30px;\r\n   background-color:lightgray;\r\n   padding: 0 10px;\r\n   border-radius: 30%;\r\n }\r\n\r\n .num{\r\n   font-size: 30px;\r\n   color: rgb(6, 90, 92);\r\n   font-weight: bold;\r\n   margin: 10px;\r\n }\r\n\r\n\r\n\r\n.num {\r\n  font-size: 30px;\r\n  color: rgb(6, 90, 92);\r\n  font-weight: bold;\r\n  margin: 10px;\r\n}\r\n\r\nbutton {\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n}\r\n</style>","import { render } from \"./PrivateCommentByEmail.vue?vue&type=template&id=5e409bd6&scoped=true\"\nimport script from \"./PrivateCommentByEmail.vue?vue&type=script&lang=js\"\nexport * from \"./PrivateCommentByEmail.vue?vue&type=script&lang=js\"\n\nimport \"./PrivateCommentByEmail.vue?vue&type=style&index=0&id=5e409bd6&scoped=true&lang=css\"\n\nimport exportComponent from \"D:\\\\DS Portfolio\\\\DS-Nolaboda-Gachi\\\\gachivue0.4\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5e409bd6\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","scope","_createElementBlock","_hoisted_3","_Fragment","_renderList","$setup","lists","list","i","key","_createVNode","_component_RouterLink","to","name","params","id","answerid","style","content","onClick","commentid","_hoisted_4","setup","onMounted","loginHandler","value","ref","state","useRouter","reactive","questionid","cid","email","sessionStorage","getItem","token","sendId","modal","async","url","headers","Authorization","body","axios","then","res","status","data","alert","deleteModal","ElMessageBox","confirm","confirmButtonText","cancelButtonText","type","ElMessage","message","deleteComment","catch","setTimeout","__exports__","render"],"sourceRoot":""}