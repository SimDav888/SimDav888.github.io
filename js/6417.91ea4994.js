"use strict";(self["webpackChunkgachivue0_4"]=self["webpackChunkgachivue0_4"]||[]).push([[6417],{6417:function(t,e,n){n.d(e,{Z:function(){return zt}});var a=n(6252),o=n(3577),s=n(9963);const i=t=>((0,a.dD)("data-v-0b5d45de"),t=t(),(0,a.Cn)(),t),l={class:"btnreg"},d=i((()=>(0,a._)("span",null," 답변 등록하기 ",-1))),c={class:"accordion",id:"accordionPanelsStayOpenExample"},r=["id"],u=["data-bs-target","aria-controls"],m={key:0,class:"titlecontent"},p={key:1,class:"titlecontent"},w=["id","aria-labelledby"],k={key:0,class:"buttongoup"},h=i((()=>(0,a._)("span",null," 답변 수정 ",-1))),_=i((()=>(0,a._)("span",null," 삭제 ",-1))),b={class:"accordion-body"},y={class:"counter"},f={class:"buttons"},g=["onClickOnce"],v=["onClickOnce"],C={class:"container"},q={class:"content"},M=i((()=>(0,a._)("b",null," 작성자 :: ",-1))),z=i((()=>(0,a._)("b",null," 답변 내용 :: ",-1))),D=i((()=>(0,a._)("b",null," 수정 일자 :: ",-1))),T=i((()=>(0,a._)("p",null,null,-1))),j={class:"commentList"},U={class:"modal fade",id:"ModiModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},W={class:"modal-dialog"},A={class:"modal-content"},I=i((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"staticBackdropLabel"},"답변 수정하기"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),x={class:"modal-body modalcontainer"},O={class:"item"},Y=i((()=>(0,a._)("label",{for:""}," 답변 내용 :: ",-1))),H=i((()=>(0,a._)("br",null,null,-1))),S={class:"modal-footer"},V=i((()=>(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"닫기",-1))),P=i((()=>(0,a._)("h3",null,"답변 등록하기",-1))),R={class:"item"},B=i((()=>(0,a._)("label",{for:"content"}," 답변 내용 :: ",-1))),Z=i((()=>(0,a._)("br",null,null,-1)));function K(t,e,n,i,K,$){const E=(0,a.up)("el-button"),L=(0,a.up)("el-button-group"),N=(0,a.up)("Comment"),F=(0,a.up)("modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",l,[(0,a.Wm)(E,{type:"info",plain:"",onClick:e[0]||(e[0]=t=>i.state.showModal=!0)},{default:(0,a.w5)((()=>[d])),_:1})]),(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.state.lists,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"accordion-item",key:e},[(0,a._)("h2",{class:"accordion-header",id:"panelsStayOpen-heading"+t.answerid},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapse"+t.answerid,"aria-expanded":"true","aria-controls":"panelsStayOpen-collapse"+t.answerid},[""!=t.content?((0,a.wg)(),(0,a.iD)("div",m," ┗   "+(0,o.zw)(t.content),1)):((0,a.wg)(),(0,a.iD)("div",p," ┗   No answer"))],8,u)],8,r),(0,a._)("div",{id:"panelsStayOpen-collapse"+t.answerid,class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-heading"+t.answerid},[i.state.qnickname==t.nickname?((0,a.wg)(),(0,a.iD)("div",k,[(0,a.Wm)(L,{class:"ml-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(E,{type:"info",plain:"","data-bs-toggle":"modal","data-bs-target":"#ModiModal",onClick:e=>i.sendId(t.answerid,t.nickname,t.content,t.rate)},{default:(0,a.w5)((()=>[h])),_:2},1032,["onClick"]),(0,a.Wm)(E,{type:"info",plain:"",onClick:e=>(i.sendId(t.answerid,t.nickname,t.content,t.rate),i.deleteModal())},{default:(0,a.w5)((()=>[_])),_:2},1032,["onClick"])])),_:2},1024)])):(0,a.kq)("",!0),(0,a._)("div",b,[(0,a._)("div",y,[(0,a._)("div",f,[(0,a._)("button",{onClickOnce:e=>(t.rate>=0?t.rate+=1:t.rate+=0,i.sendId(t.answerid,t.nickname,t.content,t.rate),i.modifyAnswer())}," ˄ ",40,g),(0,a._)("button",{onClickOnce:e=>(0!=t.rate?t.rate-=1:t.rate-=0,i.sendId(t.answerid,t.nickname,t.content,t.rate),i.modifyAnswer())}," ˅ ",40,v)]),(0,a._)("div",{class:"num",ref_for:!0,ref:"num"},(0,o.zw)(t.rate),513)]),(0,a._)("div",C,[(0,a._)("div",q,[(0,a._)("p",null,[M,(0,a.Uk)(" "+(0,o.zw)(t.nickname),1)]),(0,a._)("p",null,[z,(0,a.Uk)(" "+(0,o.zw)(t.content),1)]),(0,a._)("p",null,[D,(0,a.Uk)(" "+(0,o.zw)(i.formatDate(t.modDate)),1)]),T])])]),(0,a._)("div",j,[(0,a.Wm)(N,{answerid:t.answerid,qnickname:n.qnickname,quid:n.quid},null,8,["answerid","qnickname","quid"])])],8,w)])))),128))]),(0,a._)("div",U,[(0,a._)("div",W,[(0,a._)("div",A,[I,(0,a._)("div",x,[(0,a._)("div",O,[Y,H,(0,a.wy)((0,a._)("textarea",{type:"text",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>i.modal.content=t)},null,512),[[s.nr,i.modal.content]])])]),(0,a._)("div",S,[V,(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:e[2]||(e[2]=t=>i.modifyAnswer()),"data-bs-dismiss":"modal"},"수정하기")])])])]),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(F,{show:i.state.showModal,onClose:e[6]||(e[6]=t=>i.state.showModal=!1)},{header:(0,a.w5)((()=>[P])),body:(0,a.w5)((()=>[(0,a._)("div",R,[B,Z,(0,a.wy)((0,a._)("textarea",{type:"text",id:"content","onUpdate:modelValue":e[3]||(e[3]=t=>i.regist.registContent=t)},null,512),[[s.nr,i.regist.registContent]])])])),footer:(0,a.w5)((()=>[(0,a.Wm)(E,{type:"secondary",plain:"",onClick:e[4]||(e[4]=t=>i.state.showModal=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" 닫기 ")])),_:1}),(0,a.Wm)(E,{type:"primary",plain:"",onClick:e[5]||(e[5]=t=>i.answerRegister())},{default:(0,a.w5)((()=>[(0,a.Uk)(" 등록하기 ")])),_:1})])),_:1},8,["show"])]))],64)}var $=n(9737),E=n(1348),L=n(2262),N=n(2201),F=n(696),G=n(9669),J=n.n(G),Q=n(7484),X=n.n(Q);const tt=t=>((0,a.dD)("data-v-31e9b006"),t=t(),(0,a.Cn)(),t),et={class:"btnreg"},nt={hidden:""},at={hidden:""},ot={hidden:""},st={hidden:""},it={hidden:""},lt={hidden:""},dt={class:"buttongoup"},ct={key:0,class:"card-body container"},rt={class:"item1"},ut=tt((()=>(0,a._)("b",null," 댓글 작성자 ",-1))),mt={class:"item2"},pt=tt((()=>(0,a._)("b",null,"댓글 내용:: ",-1))),wt=tt((()=>(0,a._)("b",null,"수정 날짜:: ",-1))),kt=tt((()=>(0,a._)("h3",null,"댓글 등록",-1))),ht={class:"item"},_t=tt((()=>(0,a._)("label",{for:"content"}," 댓글 내용 :: ",-1))),bt=tt((()=>(0,a._)("br",null,null,-1)));function yt(t,e,n,i,l,d){const c=(0,a.up)("el-button"),r=(0,a.up)("el-button-group"),u=(0,a.up)("modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",et,[(0,a.Wm)(c,{plain:"",onClick:e[0]||(e[0]=t=>i.state.showModal=!0)},{default:(0,a.w5)((()=>[(0,a.Uk)(" 댓글 등록하기 ")])),_:1})]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(i.state.lists,((t,e)=>((0,a.wg)(),(0,a.iD)("div",{class:"card",key:e},[(0,a._)("div",nt,(0,o.zw)(i.state.cid=t.commentid),1),(0,a._)("div",at,(0,o.zw)(i.state.comCount),1),(0,a._)("div",ot,(0,o.zw)(n.quid),1),(0,a._)("div",st,(0,o.zw)(n.qnickname),1),(0,a._)("div",it,(0,o.zw)(i.state.qnickname=n.qnickname),1),(0,a._)("div",lt,(0,o.zw)(i.state.qnickname=n.qnickname),1),(0,a._)("div",dt,[i.state.qnickname==t.nickname?((0,a.wg)(),(0,a.j4)(r,{key:0,class:"ml-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{plain:"",onClick:i.deleteModal},{default:(0,a.w5)((()=>[(0,a.Uk)(" 삭제하기 ")])),_:1},8,["onClick"])])),_:1})):(0,a.kq)("",!0)]),null!=t.uid?((0,a.wg)(),(0,a.iD)("div",ct,[(0,a._)("div",rt,[ut,(0,a.Uk)(" "+(0,o.zw)(t.nickname),1)]),(0,a._)("div",mt,[(0,a._)("p",null,[pt,(0,a.Uk)(" "+(0,o.zw)(t.content),1)]),(0,a._)("p",null,[wt,(0,a.Uk)(" "+(0,o.zw)(i.formatDate(t.modDate)),1)])])])):(0,a.kq)("",!0)])))),128)),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(u,{show:i.state.showModal,onClose:e[4]||(e[4]=t=>i.state.showModal=!1)},{header:(0,a.w5)((()=>[kt])),body:(0,a.w5)((()=>[(0,a._)("div",ht,[_t,bt,(0,a.wy)((0,a._)("textarea",{type:"text",id:"content","onUpdate:modelValue":e[1]||(e[1]=t=>i.regist.registContent=t)},null,512),[[s.nr,i.regist.registContent]])])])),footer:(0,a.w5)((()=>[(0,a.Wm)(c,{type:"secondary",plain:"",onClick:e[2]||(e[2]=t=>i.state.showModal=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" 닫기 ")])),_:1}),(0,a.Wm)(c,{type:"primary",plain:"",onClick:e[3]||(e[3]=t=>i.commentRegister())},{default:(0,a.w5)((()=>[(0,a.Uk)("등록하기")])),_:1})])),_:1},8,["show"])]))],64)}var ft={name:"TheComment",props:["answerid","qnickname","quid","qemail"],components:{Modal:F.Z},setup(t){(0,a.bv)((()=>{r(),u()}));(0,N.tv)();const e=(0,L.Vh)(t,"answerid"),n=(0,L.Vh)(t,"quid"),o=(0,L.Vh)(t,"qemail"),s=(0,L.qj)({aid:e,qnickname:"",quid:n,qemail:o,cid:"",nickname:"",content:"",lists:"",modDate:"",comCount:"",email:sessionStorage.getItem("email"),token:sessionStorage.getItem("TOKEN"),showModal:!1}),i=t=>{const e=X()(t);return e.format("YYYY-MM-D HH:mm")},l=(0,L.qj)({commentid:"",nickname:"",content:""}),d=(t,e,n)=>{l.commentid=t,l.nickname=e,l.content=n},c=()=>{$.T.confirm("댓글을 삭제하시겠습니까?","Warning",{confirmButtonText:"예",cancelButtonText:"아니오",type:"warning"}).then((()=>{(0,E.z8)({type:"success",message:"삭제되었습니다."}),m()})).catch((()=>{(0,E.z8)({type:"info",message:"취소되었습니다"})}))},r=async()=>{const t="http://localhost:9090/api/commentbyanswer",e={"Content-Type":"application/json",Authorization:s.token,token:s.token,name:"test list"},n={answer:s.aid};await J().post(t,n,{headers:e}).then((function(t){200==t.status?s.lists=t.data:alert("bad.")}))},u=async()=>{const t="http://localhost:9090/api/countComment",e={"Content-Type":"application/json",Authorization:s.token,token:s.token,name:"test list"},n={answerid:s.aid};await J().post(t,n,{headers:e}).then((function(t){200==t.status?s.comCount=t.data.comCount:alert("bad.")}))},m=async()=>{const t="http://localhost:9090/api/deleteComment",e={"Content-Type":"application/json",Authorization:s.token,token:s.token},n={commentid:s.cid};await J().post(t,n,{headers:e}).then((function(t){200===t.status&&setTimeout(r(),1e3)}))},p=(0,L.qj)({registContent:""}),w=async()=>{if(""===p.registContent)return alert("Please Input your content"),email.value.focus(),!1;const t="http://localhost:9090/api/commentRegister",e={"Content-Type":"application/json",Authorization:s.token,token:s.token},n={answerid:s.aid,uid:s.quid,content:p.registContent},a=await J().post(t,n,{headers:e});200===a.status?(alert("register successfully"),s.showModal=!1,setTimeout(r(),1e3)):alert("fail")};return{formatDate:i,countComment:u,deleteModal:c,state:s,loginHandler:r,deleteComment:m,modal:l,sendId:d,regist:p,commentRegister:w}}},gt=n(3744);const vt=(0,gt.Z)(ft,[["render",yt],["__scopeId","data-v-31e9b006"]]);var Ct=vt,qt={name:"TheAnswer",components:{Comment:Ct,Modal:F.Z},props:["questionid","qnickname","quid"],setup(t){(0,a.bv)((()=>{m()}));const e=(0,N.tv)(),n=(0,L.Vh)(t,"questionid"),o=(0,L.Vh)(t,"qnickname"),s=(0,L.Vh)(t,"quid"),i=(0,L.iH)(!0),l=t=>{const e=X()(t);return e.format("YYYY-MM-D HH:mm")},d=(0,L.qj)({qid:n,qnickname:o,quid:s,aid:"",rate:"",nickname:"",answerPublic:"",modDate:"",lists:"",countComment:"",email:sessionStorage.getItem("email"),token:sessionStorage.getItem("TOKEN"),showModal:!1}),c=(0,L.qj)({answerid:"",nickname:"",content:"",rate:"",answerPublic:""}),r=(t,e,n,a)=>{c.answerid=t,c.nickname=e,c.content=n,c.rate=a},u=()=>{$.T.confirm("답변을 삭제하시겠습니까?","알림",{confirmButtonText:"예",cancelButtonText:"아니오",type:"warning"}).then((()=>{(0,E.z8)({type:"success",message:"삭제되었습니다."}),p()})).catch((()=>{(0,E.z8)({type:"info",message:"취소되었습니다."})}))},m=async()=>{const t="http://localhost:9090/api/answerlistbyqid",e={"Content-Type":"application/json",Authorization:d.token,token:d.token,name:"test list"},n={question:d.qid};await J().post(t,n,{headers:e}).then((function(t){200==t.status?d.lists=t.data:alert("bad.")}))},p=async()=>{const t="http://localhost:9090/api/deleteAnswer",e={"Content-Type":"application/json",Authorization:d.token,token:d.token},n={answerid:c.answerid};await J().post(t,n,{headers:e}).then((function(t){200===t.status&&setTimeout(m(),1e3)}))},w=async()=>{if(""===c.content)return alert("Please input content"),content.value.focus(),!1;const t="http://localhost:9090/api/modifyAnswer",e={"Content-Type":"application/json",Authorization:d.token,token:d.token},n={answerid:c.answerid,nickname:c.nickname,content:c.content,answerPublic:i.value,rate:c.rate},a=await J().post(t,n,{headers:e});200===a.status?(alert("성공적으로 수정되었습니다."),setTimeout(m(),1e3)):alert("fail")},k=(0,L.qj)({registContent:""}),h=async()=>{if(""===k.registContent)return alert("내용을 입력하세요"),email.value.focus(),!1;const t="http://localhost:9090/api/answerRegister",n={"Content-Type":"application/json",Authorization:d.token,token:d.token},a={questionid:d.qid,uid:d.quid,answerPublic:i.value,content:k.registContent},o=await J().post(t,a,{headers:n});200===o.status?(alert("register successfully"),d.showModal=!1,e.go(0)):alert("fail")};return{formatDate:l,answerPublic:i,deleteModal:u,state:d,loginHandler:m,deleteAnswer:p,modifyAnswer:w,modal:c,sendId:r,regist:k,answerRegister:h}}};const Mt=(0,gt.Z)(qt,[["render",K],["__scopeId","data-v-0b5d45de"]]);var zt=Mt},696:function(t,e,n){n.d(e,{Z:function(){return k}});var a=n(6252),o=n(9963);const s={key:0,class:"modal-mask"},i={class:"modal-wrapper"},l={class:"modal-container"},d={class:"modal-header"},c={class:"modal-body"},r={class:"modal-footer"};function u(t,e,n,u,m,p){return(0,a.wg)(),(0,a.j4)(o.uT,{name:"modal"},{default:(0,a.w5)((()=>[n.show?((0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",i,[(0,a._)("div",l,[(0,a._)("div",d,[(0,a.WI)(t.$slots,"header",{},(()=>[(0,a.Uk)("default header")]))]),(0,a._)("div",c,[(0,a.WI)(t.$slots,"body",{},(()=>[(0,a.Uk)("default body")]))]),(0,a._)("div",r,[(0,a.WI)(t.$slots,"footer",{},(()=>[(0,a.Uk)(" default footer "),(0,a._)("button",{class:"modal-default-button",onClick:e[0]||(e[0]=e=>t.$emit("close"))}," OK ")]))])])])])):(0,a.kq)("",!0)])),_:3})}var m={name:"CommonModal",props:{show:Boolean}},p=n(3744);const w=(0,p.Z)(m,[["render",u]]);var k=w}}]);
//# sourceMappingURL=6417.91ea4994.js.map