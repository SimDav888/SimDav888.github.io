"use strict";(self["webpackChunkgachivue0_4"]=self["webpackChunkgachivue0_4"]||[]).push([[4503],{4503:function(e,s,t){t.r(s),t.d(s,{default:function(){return U}});var a=t(6252),n=t(9963),l=t(3577);const o=e=>((0,a.dD)("data-v-a97f98d8"),e=e(),(0,a.Cn)(),e),c={class:"container"},i={class:"screen"},r={class:"screen__content"},u={class:"login",action:"",id:"frm",ref:"frm"},_=o((()=>(0,a._)("h2",{style:{color:"#7875B5"}},"비밀번호 찾기",-1))),p={class:"login__field"},d={class:"login__field"},f={class:"login__field"},h={class:"login__field newPass"},g={class:"login__field newRePass"},y=o((()=>(0,a._)("span",{class:"button__text"},"계정 확인하기",-1))),v=[y],w=o((()=>(0,a._)("span",{class:"button__text"},"비밀번호 변경하기",-1))),k=[w],m={style:{"margin-top":"1em"}},b=(0,a.uE)('<div class="screen__background" data-v-a97f98d8><span class="screen__background__shape screen__background__shape4" data-v-a97f98d8></span><span class="screen__background__shape screen__background__shape3" data-v-a97f98d8></span><span class="screen__background__shape screen__background__shape2" data-v-a97f98d8></span><span class="screen__background__shape screen__background__shape1" data-v-a97f98d8></span></div>',1),P={style:{display:"none"},ref:"toShow"};function A(e,s,t,o,y,w){const A=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",c,[(0,a._)("div",i,[(0,a._)("div",r,[(0,a._)("form",u,[_,(0,a._)("div",p,[(0,a.wy)((0,a._)("input",{type:"email",class:"login__input",ref:"email","onUpdate:modelValue":s[0]||(s[0]=e=>o.state.email=e),placeholder:"이메일을 입력해주세요",onKeyup:s[1]||(s[1]=(...e)=>o.getQuestionByEmail&&o.getQuestionByEmail(...e)),autofocus:""},null,544),[[n.nr,o.state.email]]),(0,a._)("label",null,(0,l.zw)(o.state.emailCheck),1)]),(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{type:"text",class:"login__input","onUpdate:modelValue":s[2]||(s[2]=e=>o.state.secretQ=e),ref:"secretQ",disabled:""},null,512),[[n.nr,o.state.secretQ]])]),(0,a._)("div",f,[(0,a.wy)((0,a._)("input",{type:"text",class:"login__input","onUpdate:modelValue":s[3]||(s[3]=e=>o.state.secretA=e),ref:"secretA",placeholder:"답변을 입력해주세요",autofocus:""},null,512),[[n.nr,o.state.secretA]])]),(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"text",class:"login__input","onUpdate:modelValue":s[4]||(s[4]=e=>o.state.newPass=e),ref:"newPass",style:{display:"none"},placeholder:"새로운 비밀번호",autofocus:""},null,512),[[n.nr,o.state.newPass]])]),(0,a._)("div",g,[(0,a.wy)((0,a._)("input",{type:"text",class:"login__input","onUpdate:modelValue":s[5]||(s[5]=e=>o.state.newRePass=e),ref:"newRePass",placeholder:"새로운 비밀번호 확인",autofocus:"",style:{display:"none"}},null,512),[[n.nr,o.state.newRePass]])]),(0,a._)("button",{class:"button login__submit",onClick:s[6]||(s[6]=(0,n.iM)(((...e)=>o.checkSecretAnswer&&o.checkSecretAnswer(...e)),["prevent"])),ref:"btnsub1"},v,512),(0,a._)("button",{class:"button login__submit",onClick:s[7]||(s[7]=(0,n.iM)(((...e)=>o.changePass&&o.changePass(...e)),["prevent"])),ref:"btnsub2",style:{display:"none"}},k,512),(0,a._)("div",null,[(0,a._)("h6",m,[(0,a.Wm)(A,{to:"/",style:{"text-decoration":"none",color:"#00ffae"}},{default:(0,a.w5)((()=>[(0,a.Uk)("메인으로 돌아가기")])),_:1})]),(0,a._)("h6",null,[(0,a.Wm)(A,{to:"/login",style:{"text-decoration":"none",color:"#00ffae"}},{default:(0,a.w5)((()=>[(0,a.Uk)("로그인으로 돌아가기")])),_:1})])])],512)]),b])]),(0,a._)("h1",P,"TOSHOW",512)],64)}t(7658);var Q=t(2262),C=t(9669),H=t.n(C),R=t(2201),x=(t(1120),{setup(){const e=(0,R.tv)(),s=(0,Q.qj)({secretQ:"",secretA:"",newPass:"",newRePass:"",mail:""}),t=(0,Q.iH)(""),a=(0,Q.iH)(""),n=(0,Q.iH)(""),l=(0,Q.iH)(""),o=(0,Q.iH)(""),c=(0,Q.iH)(""),i=(0,Q.iH)(""),r=/^\s+$/,u=async()=>{const e="http://localhost:9090/signup/getQuestionByEmail",t={"Content-Type":"application/json",Authorization:s.token,token:s.token},a={email:s.email};await H().post(e,a,{headers:t}).then((function(e){s.secretQ=e.data.result})).catch((function(e){e&&console.log("Error",e.message)}))},_=async()=>{if(""===s.secretA)return alert("나의 비밀 답변을 입력해 주세요"),n.value.focus(),!1;const e="http://localhost:9090/signup/checkSecretAnswer",o={"Content-Type":"application/json",Authorization:s.token,token:s.token},r={secretA:s.secretA,email:s.email};await H().post(e,r,{headers:o}).then((function(e){s.secretA==e.data.result?(a.value.style.display="block",t.value.style.display="block",c.value.style.display="none",l.value.style.display="none",n.value.style.display="none",i.value.style.display="block"):alert("나의 답변이 맞지 않습니다")})).catch((function(e){e&&console.log("Error",e.message)}))},p=async()=>{if(""===s.newPass)return alert("비밀번호를 입력하세요"),t.value.focus(),!1;if(""===s.newRePass)return alert("새로운 비밀번호를 입력하세요"),a.value.focus(),!1;if(s.newPass!=s.newRePass)return alert("비밀번호의 양식이 틀렸습니다 (/^s+$/ 는 포함될 수 없습니다)"),t.value.value="",a.value.value="",t.value.focus(),!1;if(r.test(s.newPass))return alert("공백을 삭제해 주세요"),t.value.value="",t.value.focus(),!1;const n="http://localhost:9090/signup/changePass",l={"Content-Type":"application/json",Authorization:s.token,token:s.token},o={newPass:s.newPass,email:s.email};await H().post(n,o,{headers:l}).then((function(s){alert("비밀번호가 성공적으로 변경 되었습니다"),e.push({name:"login"})})).catch((function(e){e&&console.log("Error",e.message)}))};return{toShow:o,state:s,btnsub2:i,btnsub1:c,secretA:n,newRePass:a,newPass:t,secretQ:l,getQuestionByEmail:u,checkSecretAnswer:_,changePass:p}}}),E=t(3744);const S=(0,E.Z)(x,[["render",A],["__scopeId","data-v-a97f98d8"]]);var U=S}}]);
//# sourceMappingURL=4503.edf8c4ca.js.map