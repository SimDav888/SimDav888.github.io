"use strict";(self["webpackChunkgachivue0_4"]=self["webpackChunkgachivue0_4"]||[]).push([[5158],{5158:function(e,t,n){n.d(t,{Z:function(){return Se}});var a=n(6252),o=n(3577),l=n(9963);const s=e=>((0,a.dD)("data-v-9582edea"),e=e(),(0,a.Cn)(),e),i={class:"btnreg"},d=s((()=>(0,a._)("span",null," 답변 등록하기 ",-1))),c={class:"accordion",id:"accordionPanelsStayOpenExample"},r=["id"],u=["data-bs-target","aria-controls"],m={key:0,class:"titlecontent"},p={key:1,class:"titlecontent"},w=["id","aria-labelledby"],k={key:0,class:"buttongoup"},_=s((()=>(0,a._)("span",null," 답변 수정 ",-1))),b=s((()=>(0,a._)("span",null," 삭제 ",-1))),y={class:"accordion-body"},f={class:"counter"},h={class:"buttons"},g=["onClickOnce"],v=["onClickOnce"],C={class:"container"},q={class:"content"},D=s((()=>(0,a._)("b",null," 작성자 :: ",-1))),M=s((()=>(0,a._)("b",null," 답변 내용 :: ",-1))),z=s((()=>(0,a._)("b",null," 수정 일자 :: ",-1))),T=s((()=>(0,a._)("p",null,null,-1))),U={class:"commentList"},W={class:"modal fade",id:"ModiModal","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},x={class:"modal-dialog"},j={class:"modal-content"},A=s((()=>(0,a._)("div",{class:"modal-header"},[(0,a._)("h5",{class:"modal-title",id:"staticBackdropLabel"},"Answer Modify"),(0,a._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),V={class:"modal-body modalcontainer"},I={class:"item modalswitch"},O=s((()=>(0,a._)("label",{for:""}," 공개여부 :: ",-1))),P=s((()=>(0,a._)("br",null,null,-1))),Y={class:"item"},H=s((()=>(0,a._)("label",{for:"nickname"}," Nickname :: ",-1))),R=s((()=>(0,a._)("br",null,null,-1))),S={class:"item"},B=s((()=>(0,a._)("label",{for:""}," Content :: ",-1))),K=s((()=>(0,a._)("br",null,null,-1))),Z={class:"modal-footer"},N=s((()=>(0,a._)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1))),$=s((()=>(0,a._)("h3",null,"Register Answer",-1))),E={class:"item modalswitch"},L=s((()=>(0,a._)("label",{for:"nickname"}," 공개여부 :: ",-1))),F=s((()=>(0,a._)("br",null,null,-1))),G={class:"item"},J=s((()=>(0,a._)("label",{for:"nickname"}," Nickname :: ",-1))),Q=s((()=>(0,a._)("br",null,null,-1))),X={class:"item"},ee=s((()=>(0,a._)("label",{for:"content"}," Content :: ",-1))),te=s((()=>(0,a._)("br",null,null,-1)));function ne(e,t,n,s,ne,ae){const oe=(0,a.up)("el-button"),le=(0,a.up)("el-button-group"),se=(0,a.up)("Comment"),ie=(0,a.up)("el-switch"),de=(0,a.up)("modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",i,[(0,a.Wm)(oe,{type:"info",plain:"",onClick:t[0]||(t[0]=e=>s.state.showModal=!0)},{default:(0,a.w5)((()=>[d])),_:1})]),(0,a._)("div",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.state.lists,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"accordion-item",key:t},[(0,a._)("h2",{class:"accordion-header",id:"panelsStayOpen-heading"+e.answerid},[(0,a._)("button",{class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapse"+e.answerid,"aria-expanded":"true","aria-controls":"panelsStayOpen-collapse"+e.answerid},[""!=e.content?((0,a.wg)(),(0,a.iD)("div",m," ┗   "+(0,o.zw)(e.content),1)):((0,a.wg)(),(0,a.iD)("div",p," ┗   No answer"))],8,u)],8,r),(0,a._)("div",{id:"panelsStayOpen-collapse"+e.answerid,class:"accordion-collapse collapse","aria-labelledby":"panelsStayOpen-heading"+e.answerid},[s.state.qnickname==e.nickname?((0,a.wg)(),(0,a.iD)("div",k,[(0,a.Wm)(le,{class:"ml-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(oe,{type:"info",plain:"","data-bs-toggle":"modal","data-bs-target":"#ModiModal",onClick:t=>s.sendId(e.answerid,e.nickname,e.content,e.rate)},{default:(0,a.w5)((()=>[_])),_:2},1032,["onClick"]),(0,a.Wm)(oe,{type:"info",plain:"",onClick:t=>(s.sendId(e.answerid,e.nickname,e.content,e.rate),s.deleteModal())},{default:(0,a.w5)((()=>[b])),_:2},1032,["onClick"])])),_:2},1024)])):(0,a.kq)("",!0),(0,a._)("div",y,[(0,a._)("div",f,[(0,a._)("div",h,[(0,a._)("button",{onClickOnce:t=>(e.rate>=0?e.rate+=1:e.rate+=0,s.sendId(e.answerid,e.nickname,e.content,e.rate),s.modifyAnswer())}," ˄ ",40,g),(0,a._)("button",{onClickOnce:t=>(0!=e.rate?e.rate-=1:e.rate-=0,s.sendId(e.answerid,e.nickname,e.content,e.rate),s.modifyAnswer())}," ˅ ",40,v)]),(0,a._)("div",{class:"num",ref_for:!0,ref:"num"},(0,o.zw)(e.rate),513)]),(0,a._)("div",C,[(0,a._)("div",q,[(0,a._)("p",null,[D,(0,a.Uk)(" "+(0,o.zw)(e.nickname),1)]),(0,a._)("p",null,[M,(0,a.Uk)(" "+(0,o.zw)(e.content),1)]),(0,a._)("p",null,[z,(0,a.Uk)(" "+(0,o.zw)(s.formatDate(e.modDate)),1)]),T])])]),(0,a._)("div",U,[(0,a.Wm)(se,{answerid:e.answerid,qnickname:n.qnickname,quid:n.quid},null,8,["answerid","qnickname","quid"])])],8,w)])))),128))]),(0,a._)("div",W,[(0,a._)("div",x,[(0,a._)("div",j,[A,(0,a._)("div",V,[(0,a._)("div",I,[O,P,(0,a.Wm)(ie,{modelValue:s.answerPublic,"onUpdate:modelValue":t[1]||(t[1]=e=>s.answerPublic=e),size:"large","active-text":"Public"},null,8,["modelValue"])]),(0,a._)("div",Y,[H,R,(0,a.wy)((0,a._)("input",{type:"text",id:"nickname","onUpdate:modelValue":t[2]||(t[2]=e=>s.modal.nickname=e),disabled:""},null,512),[[l.nr,s.modal.nickname]])]),(0,a._)("div",S,[B,K,(0,a.wy)((0,a._)("textarea",{type:"text",id:"","onUpdate:modelValue":t[3]||(t[3]=e=>s.modal.content=e)},null,512),[[l.nr,s.modal.content]])])]),(0,a._)("div",Z,[N,(0,a._)("button",{type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=e=>s.modifyAnswer()),"data-bs-dismiss":"modal"},"Modify")])])])]),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(de,{show:s.state.showModal,onClose:t[10]||(t[10]=e=>s.state.showModal=!1)},{header:(0,a.w5)((()=>[$])),body:(0,a.w5)((()=>[(0,a._)("div",E,[L,F,(0,a.Wm)(ie,{size:"large","active-text":"Public",modelValue:s.answerPublic,"onUpdate:modelValue":t[5]||(t[5]=e=>s.answerPublic=e)},null,8,["modelValue"])]),(0,a._)("div",G,[J,Q,(0,a.wy)((0,a._)("input",{type:"text",id:"nickname","onUpdate:modelValue":t[6]||(t[6]=e=>s.state.qnickname=e),disabled:""},null,512),[[l.nr,s.state.qnickname]])]),(0,a._)("div",X,[ee,te,(0,a.wy)((0,a._)("textarea",{type:"text",id:"content","onUpdate:modelValue":t[7]||(t[7]=e=>s.regist.registContent=e)},null,512),[[l.nr,s.regist.registContent]])])])),footer:(0,a.w5)((()=>[(0,a.Wm)(oe,{type:"secondary",plain:"",onClick:t[8]||(t[8]=e=>s.state.showModal=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" Close ")])),_:1}),(0,a.Wm)(oe,{type:"primary",plain:"",onClick:t[9]||(t[9]=e=>s.answerRegister())},{default:(0,a.w5)((()=>[(0,a.Uk)("Register")])),_:1})])),_:1},8,["show"])]))],64)}var ae=n(9737),oe=n(1348),le=n(2262),se=n(2201),ie=n(696),de=n(9669),ce=n.n(de),re=n(7484),ue=n.n(re);const me=e=>((0,a.dD)("data-v-28ff6587"),e=e(),(0,a.Cn)(),e),pe={class:"btnreg"},we={hidden:""},ke={hidden:""},_e={hidden:""},be={hidden:""},ye={hidden:""},fe={hidden:""},he={class:"buttongoup"},ge={key:0,class:"card-body container"},ve={class:"item1"},Ce=me((()=>(0,a._)("b",null," 댓글 작성자 ",-1))),qe={class:"item2"},De=me((()=>(0,a._)("b",null,"댓글 내용:: ",-1))),Me=me((()=>(0,a._)("b",null,"수정 날짜:: ",-1))),ze=me((()=>(0,a._)("h3",null,"댓글 등록",-1))),Te={class:"item"},Ue=me((()=>(0,a._)("label",{for:"nickname"}," 닉네임 :: ",-1))),We=me((()=>(0,a._)("br",null,null,-1))),xe={class:"item"},je=me((()=>(0,a._)("label",{for:"content"}," 댓글 내용 :: ",-1))),Ae=me((()=>(0,a._)("br",null,null,-1)));function Ve(e,t,n,s,i,d){const c=(0,a.up)("el-button"),r=(0,a.up)("el-button-group"),u=(0,a.up)("modal");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",pe,[(0,a.Wm)(c,{plain:"",onClick:t[0]||(t[0]=e=>s.state.showModal=!0)},{default:(0,a.w5)((()=>[(0,a.Uk)(" 댓글 등록하기 ")])),_:1})]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.state.lists,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"card",key:t},[(0,a._)("div",we,(0,o.zw)(s.state.cid=e.commentid),1),(0,a._)("div",ke,(0,o.zw)(s.state.comCount),1),(0,a._)("div",_e,(0,o.zw)(n.quid),1),(0,a._)("div",be,(0,o.zw)(n.qnickname),1),(0,a._)("div",ye,(0,o.zw)(s.state.qnickname=n.qnickname),1),(0,a._)("div",fe,(0,o.zw)(s.state.qnickname=n.qnickname),1),(0,a._)("div",he,[s.state.qnickname==e.nickname?((0,a.wg)(),(0,a.j4)(r,{key:0,class:"ml-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(c,{plain:"",onClick:s.deleteModal},{default:(0,a.w5)((()=>[(0,a.Uk)(" 삭제하기 ")])),_:1},8,["onClick"])])),_:1})):(0,a.kq)("",!0)]),null!=e.uid?((0,a.wg)(),(0,a.iD)("div",ge,[(0,a._)("div",ve,[Ce,(0,a.Uk)(" "+(0,o.zw)(e.nickname),1)]),(0,a._)("div",qe,[(0,a._)("p",null,[De,(0,a.Uk)(" "+(0,o.zw)(e.content),1)]),(0,a._)("p",null,[Me,(0,a.Uk)(" "+(0,o.zw)(s.formatDate(e.modDate)),1)])])])):(0,a.kq)("",!0)])))),128)),((0,a.wg)(),(0,a.j4)(a.lR,{to:"body"},[(0,a.Wm)(u,{show:s.state.showModal,onClose:t[5]||(t[5]=e=>s.state.showModal=!1)},{header:(0,a.w5)((()=>[ze])),body:(0,a.w5)((()=>[(0,a._)("div",Te,[Ue,We,(0,a.wy)((0,a._)("input",{type:"text",id:"nickname","onUpdate:modelValue":t[1]||(t[1]=e=>s.state.qnickname=e),disabled:""},null,512),[[l.nr,s.state.qnickname]])]),(0,a._)("div",xe,[je,Ae,(0,a.wy)((0,a._)("textarea",{type:"text",id:"content","onUpdate:modelValue":t[2]||(t[2]=e=>s.regist.registContent=e)},null,512),[[l.nr,s.regist.registContent]])])])),footer:(0,a.w5)((()=>[(0,a.Wm)(c,{type:"secondary",plain:"",onClick:t[3]||(t[3]=e=>s.state.showModal=!1)},{default:(0,a.w5)((()=>[(0,a.Uk)(" 닫기 ")])),_:1}),(0,a.Wm)(c,{type:"primary",plain:"",onClick:t[4]||(t[4]=e=>s.commentRegister())},{default:(0,a.w5)((()=>[(0,a.Uk)("등록하기")])),_:1})])),_:1},8,["show"])]))],64)}var Ie={name:"TheComment",props:["answerid","qnickname","quid","qemail"],components:{Modal:ie.Z},setup(e){(0,a.bv)((()=>{r(),u()}));(0,se.tv)();const t=(0,le.Vh)(e,"answerid"),n=(0,le.Vh)(e,"quid"),o=(0,le.Vh)(e,"qemail"),l=(0,le.qj)({aid:t,qnickname:"",quid:n,qemail:o,cid:"",nickname:"",content:"",lists:"",modDate:"",comCount:"",email:sessionStorage.getItem("email"),token:sessionStorage.getItem("TOKEN"),showModal:!1}),s=e=>{const t=ue()(e);return t.format("YYYY-MM-D HH:mm")},i=(0,le.qj)({commentid:"",nickname:"",content:""}),d=(e,t,n)=>{i.commentid=e,i.nickname=t,i.content=n},c=()=>{ae.T.confirm("Do you really want to delete your comment?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{(0,oe.z8)({type:"success",message:"Delete completed"}),m()})).catch((()=>{(0,oe.z8)({type:"info",message:"Delete canceled"})}))},r=async()=>{const e="http://43.201.60.125/api/commentbyanswer",t={"Content-Type":"application/json",Authorization:l.token,token:l.token,name:"test list"},n={answer:l.aid};await ce().post(e,n,{headers:t}).then((function(e){200==e.status?l.lists=e.data:alert("bad.")}))},u=async()=>{const e="http://43.201.60.125/api/countComment",t={"Content-Type":"application/json",Authorization:l.token,token:l.token,name:"test list"},n={answerid:l.aid};await ce().post(e,n,{headers:t}).then((function(e){200==e.status?l.comCount=e.data.comCount:alert("bad.")}))},m=async()=>{const e="http://43.201.60.125/api/deleteComment",t={"Content-Type":"application/json",Authorization:l.token,token:l.token},n={commentid:l.cid};console.log("delete comment... launch  "+l.cid),await ce().post(e,n,{headers:t}).then((function(e){console.log("delete comment after axios"),200===e.status&&(console.log(`comment${l.cid} is deleted`),setTimeout(r(),1e3))}))},p=(0,le.qj)({registContent:""}),w=async()=>{if(""===p.registContent)return alert("Please Input your content"),email.value.focus(),!1;const e="http://43.201.60.125/api/commentRegister",t={"Content-Type":"application/json",Authorization:l.token,token:l.token},n={answerid:l.aid,uid:l.quid,content:p.registContent},a=await ce().post(e,n,{headers:t});console.log(a.data),200===a.status?(alert("register successfully"),l.showModal=!1,setTimeout(r(),1e3)):alert("fail")};return{formatDate:s,countComment:u,deleteModal:c,state:l,loginHandler:r,deleteComment:m,modal:i,sendId:d,regist:p,commentRegister:w}}},Oe=n(3744);const Pe=(0,Oe.Z)(Ie,[["render",Ve],["__scopeId","data-v-28ff6587"]]);var Ye=Pe,He={name:"TheAnswer",components:{Comment:Ye,Modal:ie.Z},props:["questionid","qnickname","quid"],setup(e){(0,a.bv)((()=>{u()}));(0,se.tv)();const t=(0,le.Vh)(e,"questionid"),n=(0,le.Vh)(e,"qnickname"),o=(0,le.Vh)(e,"quid"),l=(0,le.iH)(!0),s=e=>{const t=ue()(e);return t.format("YYYY-MM-D HH:mm")},i=(0,le.qj)({qid:t,qnickname:n,quid:o,aid:"",rate:"",nickname:"",answerPublic:"",modDate:"",lists:"",countComment:"",email:sessionStorage.getItem("email"),token:sessionStorage.getItem("TOKEN"),showModal:!1}),d=(0,le.qj)({answerid:"",nickname:"",content:"",rate:"",answerPublic:""}),c=(e,t,n,a)=>{d.answerid=e,d.nickname=t,d.content=n,d.rate=a},r=()=>{ae.T.confirm("Do you really want to delete your answer?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((()=>{(0,oe.z8)({type:"success",message:"Delete completed"}),m()})).catch((()=>{(0,oe.z8)({type:"info",message:"Delete canceled"})}))},u=async()=>{const e="http://43.201.60.125/api/answerlistbyqid",t={"Content-Type":"application/json",Authorization:i.token,token:i.token,name:"test list"},n={question:i.qid};await ce().post(e,n,{headers:t}).then((function(e){200==e.status?i.lists=e.data:alert("bad.")}))},m=async()=>{const e="http://43.201.60.125/api/deleteAnswer",t={"Content-Type":"application/json",Authorization:i.token,token:i.token},n={answerid:d.answerid};await ce().post(e,n,{headers:t}).then((function(e){200===e.status&&setTimeout(u(),1e3)}))},p=async()=>{if(""===d.content)return alert("Please input content"),content.value.focus(),!1;const e="http://43.201.60.125/api/modifyAnswer",t={"Content-Type":"application/json",Authorization:i.token,token:i.token},n={answerid:d.answerid,nickname:d.nickname,content:d.content,answerPublic:l.value,rate:d.rate},a=await ce().post(e,n,{headers:t});200===a.status?(alert("modify successfully"),setTimeout(u(),1e3)):alert("fail")},w=(0,le.qj)({registContent:""}),k=async()=>{if(""===w.registContent)return alert("Please Input your content"),email.value.focus(),!1;const e="http://43.201.60.125/api/answerRegister",t={"Content-Type":"application/json",Authorization:i.token,token:i.token},n={questionid:i.qid,uid:i.quid,answerPublic:l.value,content:w.registContent},a=await ce().post(e,n,{headers:t});200===a.status?(alert("register successfully"),i.showModal=!1,setTimeout(u(),1e3)):alert("fail")};return{formatDate:s,answerPublic:l,deleteModal:r,state:i,loginHandler:u,deleteAnswer:m,modifyAnswer:p,modal:d,sendId:c,regist:w,answerRegister:k}}};const Re=(0,Oe.Z)(He,[["render",ne],["__scopeId","data-v-9582edea"]]);var Se=Re},696:function(e,t,n){n.d(t,{Z:function(){return k}});var a=n(6252),o=n(9963);const l={key:0,class:"modal-mask"},s={class:"modal-wrapper"},i={class:"modal-container"},d={class:"modal-header"},c={class:"modal-body"},r={class:"modal-footer"};function u(e,t,n,u,m,p){return(0,a.wg)(),(0,a.j4)(o.uT,{name:"modal"},{default:(0,a.w5)((()=>[n.show?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("div",s,[(0,a._)("div",i,[(0,a._)("div",d,[(0,a.WI)(e.$slots,"header",{},(()=>[(0,a.Uk)("default header")]))]),(0,a._)("div",c,[(0,a.WI)(e.$slots,"body",{},(()=>[(0,a.Uk)("default body")]))]),(0,a._)("div",r,[(0,a.WI)(e.$slots,"footer",{},(()=>[(0,a.Uk)(" default footer "),(0,a._)("button",{class:"modal-default-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))}," OK ")]))])])])])):(0,a.kq)("",!0)])),_:3})}var m={name:"CommonModal",props:{show:Boolean}},p=n(3744);const w=(0,p.Z)(m,[["render",u]]);var k=w}}]);
//# sourceMappingURL=5158.35541ad4.js.map