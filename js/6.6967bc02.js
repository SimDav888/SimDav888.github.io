"use strict";(self["webpackChunkgachivue0_4"]=self["webpackChunkgachivue0_4"]||[]).push([[6],{6:function(e,a,t){t.r(a),t.d(a,{default:function(){return L}});var l=t(6252),n=t(9963),s=t(3577),o=t(8251);const i=e=>((0,l.dD)("data-v-74e8bd21"),e=e(),(0,l.Cn)(),e),r={class:"container"},u={class:"screen"},c={class:"screen__content"},d={class:"login",action:"",id:"frm",ref:"frm"},p=i((()=>(0,l._)("h1",{style:{color:"#7875B5"}},"회원 가입",-1))),_={class:"login__field"},f={class:"login__field"},m={class:"login__field"},h={class:"login__field"},v={class:"login__field"},k={class:"login__field"},w=i((()=>(0,l._)("span",{class:"button__text"},"지금 가입하기                  >>",-1))),g=[w],b=(0,l.uE)('<div class="screen__background" data-v-74e8bd21><span class="screen__background__shape screen__background__shape4" data-v-74e8bd21></span><span class="screen__background__shape screen__background__shape3" data-v-74e8bd21></span><span class="screen__background__shape screen__background__shape2" data-v-74e8bd21></span><span class="screen__background__shape screen__background__shape1" data-v-74e8bd21></span></div>',1),y=i((()=>(0,l._)("h2",null,[(0,l._)("div",{class:"snowflakes","aria-hidden":"true"},[(0,l._)("div",{class:"snowflake"}," ❅ "),(0,l._)("div",{class:"snowflake"}," ❅ "),(0,l._)("div",{class:"snowflake"}," ❆ "),(0,l._)("div",{class:"snowflake"}," ❄ "),(0,l._)("div",{class:"snowflake"}," ❅ "),(0,l._)("div",{class:"snowflake"}," ❆ "),(0,l._)("div",{class:"snowflake"}," ❄ "),(0,l._)("div",{class:"snowflake"}," ❅ "),(0,l._)("div",{class:"snowflake"}," ❆ "),(0,l._)("div",{class:"snowflake"}," ❄ ")])],-1))),C=i((()=>(0,l._)("img",{style:{width:"55em"},alt:"user icon",src:o},null,-1))),M=i((()=>(0,l._)("div",null,[(0,l._)("h2",null,"회원가입이 성공적으로 되었습니다.")],-1)));function H(e,a,t,o,i,w){const H=(0,l.up)("el-button"),A=(0,l.up)("modal2");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",r,[(0,l._)("div",u,[(0,l._)("div",c,[(0,l._)("form",d,[p,(0,l._)("div",_,[(0,l.wy)((0,l._)("input",{type:"email",class:"login__input",ref:"email","onUpdate:modelValue":a[0]||(a[0]=e=>o.state.email=e),placeholder:"이메일",onKeyup:a[1]||(a[1]=(...e)=>o.emailCheckHandler&&o.emailCheckHandler(...e)),autofocus:""},null,544),[[n.nr,o.state.email]]),(0,l._)("label",null,(0,s.zw)(o.state.emailCheck),1)]),(0,l._)("div",f,[(0,l.wy)((0,l._)("input",{type:"text",class:"login__input",ref:"nickname","onUpdate:modelValue":a[2]||(a[2]=e=>o.state.nickname=e),placeholder:"닉네임",maxlength:"10"},null,512),[[n.nr,o.state.nickname]])]),(0,l._)("div",m,[(0,l.wy)((0,l._)("input",{type:"password",class:"login__input",placeholder:"비밀번호",ref:"password","onUpdate:modelValue":a[3]||(a[3]=e=>o.state.password=e)},null,512),[[n.nr,o.state.password]])]),(0,l._)("div",h,[(0,l.wy)((0,l._)("input",{type:"password",class:"login__input",placeholder:"비밀번호 확인",ref:"repassword","onUpdate:modelValue":a[4]||(a[4]=e=>o.state.repassword=e)},null,512),[[n.nr,o.state.repassword]])]),(0,l._)("div",v,[(0,l.wy)((0,l._)("input",{type:"text",class:"login__input",ref:"secretQ","onUpdate:modelValue":a[5]||(a[5]=e=>o.state.secretQ=e),placeholder:"나만의 질문"},null,512),[[n.nr,o.state.secretQ]])]),(0,l._)("div",k,[(0,l.wy)((0,l._)("input",{type:"text",class:"login__input",ref:"secretA","onUpdate:modelValue":a[6]||(a[6]=e=>o.state.secretA=e),placeholder:"나만의 답변"},null,512),[[n.nr,o.state.secretA]])]),(0,l._)("button",{class:"button login__submit",onClick:a[7]||(a[7]=(0,n.iM)(((...e)=>o.joinHandler&&o.joinHandler(...e)),["prevent"]))},g)],512)]),b])]),((0,l.wg)(),(0,l.j4)(l.lR,{to:"body"},[(0,l.Wm)(A,{show:o.state.showModal,onClose:a[8]||(a[8]=e=>o.state.showModal=!1)},{header:(0,l.w5)((()=>[y])),body:(0,l.w5)((()=>[C,M])),footer:(0,l.w5)((()=>[(0,l.Wm)(H,{type:"primary",plain:"",onClick:o.toLogin},{default:(0,l.w5)((()=>[(0,l.Uk)("로그인")])),_:1},8,["onClick"]),(0,l.Wm)(H,{type:"primary",plain:"",onClick:o.toMain},{default:(0,l.w5)((()=>[(0,l.Uk)("Thank you")])),_:1},8,["onClick"])])),_:1},8,["show"])]))],64)}t(7658);var A=t(2262),U=t(9669),$=t.n(U),q=t(2201),T=t(201),j=t(1083),x={name:"TheSingup",setup(){const e=(0,q.tv)(),a=(0,A.qj)({email:"",nickname:"",password:"",repassword:"",secretA:"",secretQ:"",emailCheck:"",uniqueMail:!0,showModal:!1,token:sessionStorage.getItem("TOKEN")}),t=(0,A.iH)(""),l=(0,A.iH)(""),n=(0,A.iH)(""),s=(0,A.iH)(""),o=(0,A.iH)(""),i=(0,A.iH)(""),r=/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/,u=/^\s+$/,c=async()=>{const e="http://43.201.60.125/signup/emailCheck",t={"Content-Type":"application/json",Authorization:a.token,token:a.token},l={email:a.email},n=await $().post(e,l,{headers:t});1===n.data.result?(a.uniqueMail=!1,console.log("uniqueMail :"+a.uniqueMail),a.emailCheck="이미 등록된 이메일 입니다"):(a.emailCheck="사용가능",a.uniqueMail=!0,console.log("uniqueMail :"+a.uniqueMail)),console.log("state.emailCheck: "+a.emailCheck)},d=async()=>{if(""===a.email)return alert("Please Input your email"),t.value.focus(),!1;if(!1===a.uniqueMail)return alert("you can t use that mail"),t.value.focus(),!1;if(""===a.nickname)return alert("Check nickname"),s.value.focus(),!1;if(""===a.password)return alert("Check Password"),l.value.focus(),!1;if(""===a.repassword)return alert("Check RePassword"),n.value.focus(),!1;if(""===a.secretQ)return alert("Input your secret question"),o.value.focus(),!1;if(""===a.secretA)return alert("Input your secret answer"),i.value.focus(),!1;if(a.password!=a.repassword)return alert("Password doesn't match"),l.value.value="",n.value.value="",l.value.focus(),!1;if(0==r.test(a.email))return alert("이메일 형식이 올바르지 않습니다"),t.value.focus(),!1;if(u.test(a.password))return alert("space is not allowed"),l.value.value="",l.value.focus(),!1;const e="http://43.201.60.125/signup/userRegister",c={"Content-Type":"application/json",Authorization:a.token,token:a.token},d={email:a.email,password:a.password,nickname:a.nickname,secretQ:a.secretQ,secretA:a.secretA},p=await $().post(e,d,{headers:c});console.log(p.data),200===p.status?a.showModal=!0:alert("회원가입에 실패하였습니다.")},p=()=>{e.push({name:"login"}),a.showModal=!1},_=()=>{e.push({name:"home"}),a.showModal=!1};return{state:a,email:t,password:l,secretA:i,nickname:s,secretQ:o,repassword:n,emailCheckHandler:c,joinHandler:d,exptext:r,pattern:u,toLogin:p,toMain:_}},data(){return{}},components:{UserProfilePic:T["default"],Modal2:j.Z}},I=t(3744);const z=(0,I.Z)(x,[["render",H],["__scopeId","data-v-74e8bd21"]]);var L=z},201:function(e,a,t){t.r(a),t.d(a,{default:function(){return m}});var l=t(6252);const n={class:"form-group centerz"},s={ref:"fileLabel",class:"custom-file-label","data-browse":"Browse"},o={class:"uploadResult"},i={ref:"upResult"};function r(e,a,t,r,u,c){return(0,l.wg)(),(0,l.iD)("div",null,[(0,l._)("div",n,[(0,l._)("input",{type:"file",onChange:a[0]||(a[0]=(...e)=>r.fileChange&&r.fileChange(...e)),ref:"fileInput",class:"form-control fileUpload"},null,544),(0,l._)("label",s,null,512)]),(0,l._)("div",o,[(0,l._)("ul",i,null,512)])])}var u=t(9669),c=t.n(u),d=t(2262),p={name:"UserProfilePic",props:[],data(){return{}},setup(){const e=new RegExp("(.*?).(exe|sh|zip|alz|tiff)$"),a=10485760,t=(0,d.qj)({fileInput:"",fileLabel:"",upResult:"",token:sessionStorage.getItem("TOKEN")}),l=(0,d.iH)(""),n=(0,d.iH)(""),s=(0,d.iH)(""),o=(t,l)=>l>a?(alert("파일사이즈초과"),!1):!e.test(t)||(alert("해당파일은 업로드 될 수 없습니다."),!1),i=async()=>{const e=l.value.value.split("\\").pop();console.log(e),n.value.innerHTML=l.value.files.length-1==0?"":e+" 외 "+(l.value.files.length-1)+"개";var a=new FormData,t=l.value.files,s=!1;for(let l=0;l<t.length;l++){if(!o(t[l].name,t[l].size))return n.value.innerHTML="",this.value="",!1;a.append("uploadFiles",t[l]),s=!0}if(!s)return;for(let l of a.values())console.log(l);const i="http://43.201.60.125/signup/uploadAjax";await c().post(i,a,{headers:{"Content-Type":"multipart/form-data","process-data":!1}}).then((function(e){r(e.data)})).catch((function(e){console.log(e)}))},r=async e=>{const a=s.value,l="/display",n=`http://43.201.60.125${l}`;let o="";for(let t=0;t<e.length;t++)o+=`\n            <li data-name='${e[t].fileName}' data-path='${e[t].folderPath}' \n                data-uuid='${e[t].uuid}' data-file='${e[t].imageURL}'>\n              <div>\n                <button type='button' class='removeBtn'>X</button>\n                <br><img src='${n}?fileName=${e[t].thumbnailURL}'>\n              </div>\n            </li>`;a.innerHTML=o;const i=document.querySelectorAll(".removeBtn");for(let s=0;s<i.length;s++)i[s].onclick=function(){const e="http://43.201.60.125/api/removeFile",a=this.parentElement.closest("li"),l=a.dataset.file,n={"Content-Type":"application/json",Authorization:t.token,token:t.token};c()({method:"POST",url:`${e}?fileName=${l}`,headers:n}).then((function(e){!0===e.data&&a.remove()})).catch((function(e){console.log(e)}))}};return{state:t,fileInput:l,fileLabel:n,upResult:s,fileChange:i,checkExtension:o}}},_=t(3744);const f=(0,_.Z)(p,[["render",r]]);var m=f},1083:function(e,a,t){t.d(a,{Z:function(){return m}});var l=t(6252),n=t(9963);const s={key:0,class:"modal-mask"},o={class:"modal-wrapper"},i={class:"modal-container"},r={class:"modal-header"},u={class:"modal-body"},c={class:"modal-footer"};function d(e,a,t,d,p,_){return(0,l.wg)(),(0,l.j4)(n.uT,{name:"modal2"},{default:(0,l.w5)((()=>[t.show?((0,l.wg)(),(0,l.iD)("div",s,[(0,l._)("div",o,[(0,l._)("div",i,[(0,l._)("div",r,[(0,l.WI)(e.$slots,"header",{},(()=>[(0,l.Uk)("default header")]))]),(0,l._)("div",u,[(0,l.WI)(e.$slots,"body",{},(()=>[(0,l.Uk)("default body")]))]),(0,l._)("div",c,[(0,l.WI)(e.$slots,"footer",{},(()=>[(0,l.Uk)(" default footer "),(0,l._)("button",{class:"modal-default-button",onClick:a[0]||(a[0]=a=>e.$emit("close"))}," OK ")]))])])])])):(0,l.kq)("",!0)])),_:3})}var p={name:"CommonModal",props:{show:Boolean}},_=t(3744);const f=(0,_.Z)(p,[["render",d]]);var m=f},8251:function(e,a,t){e.exports=t.p+"img/congraturations3.c4b640c6.jpg"}}]);
//# sourceMappingURL=6.6967bc02.js.map